<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ø—Ä–æ–º–ø—Ç–æ–≤</title>
    <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'%3E%3Cdefs%3E%3CradialGradient id='glow' cx='30%25' cy='30%25'%3E%3Cstop offset='0%25' stop-color='%23c084fc'/%3E%3Cstop offset='70%25' stop-color='%237c3aed'/%3E%3Cstop offset='100%25' stop-color='%234c1d95'/%3E%3C/radialGradient%3E%3C/defs%3E%3Ccircle cx='32' cy='32' r='28' fill='url(%23glow)' stroke='%23e9d5ff' stroke-width='3' opacity='0.95'/%3E%3Ccircle cx='32' cy='32' r='22' fill='%231e1b4b' opacity='0.6'/%3E%3Cg transform='translate(18,28) scale(0.8)' opacity='0.7'%3E%3Crect x='0' y='0' width='28' height='8' rx='2' fill='%23ddd'/%3E%3Crect x='2' y='10' width='5' height='5' rx='1' fill='%23555'/%3E%3Crect x='9' y='10' width='5' height='5' rx='1' fill='%23555'/%3E%3Crect x='16' y='10' width='5' height='5' rx='1' fill='%23555'/%3E%3Crect x='23' y='10' width='5' height='5' rx='1' fill='%23555'/%3E%3Crect x='6' y='16' width='16' height='5' rx='1' fill='%234ade80'/%3E%3C/g%3E%3Ccircle cx='22' cy='20' r='8' fill='%23fff' opacity='0.4'/%3E%3Ccircle cx='20' cy='18' r='4' fill='%23fff' opacity='0.7'/%3E%3C/svg%3E">
    <style>
        :root {
            --bg-gradient: linear-gradient(135deg, #f0f9ff, #e0f2fe);
            --panel-bg: rgba(255, 255, 255, 0.85);
            --border: #cbd5e1;
            --text: #1e293b;
            --text-muted: #64748b;
            --primary: #6366f1;
            --primary-light: #818cf8;
            --success: #10b981;
            --danger: #ef4444;
            --hover-bg: #f8fafc;
            --input-bg: white;
            --shadow: 0 4px 20px rgba(0,0,0,0.08);
            --shadow-hover: 0 6px 25px rgba(0,0,0,0.12);
        }

        [data-theme="dark"] {
            --bg-gradient: linear-gradient(135deg, #0f172a, #1e293b);
            --panel-bg: rgba(30, 41, 59, 0.8);
            --border: #334155;
            --text: #f1f5f9;
            --text-muted: #94a3b8;
            --primary: #818cf8;
            --primary-light: #a5b4fc;
            --success: #34d399;
            --danger: #f87171;
            --hover-bg: #1e293b;
            --input-bg: #0f172a;
            --shadow: 0 4px 20px rgba(0,0,0,0.3);
            --shadow-hover: 0 6px 25px rgba(0,0,0,0.4);
        }

        * {
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            margin: 0;
            padding: 20px;
            background: var(--bg-gradient);
            color: var(--text);
            line-height: 1.6;
            transition: background 0.3s, color 0.3s;
        }

        .theme-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--panel-bg);
            border: 1px solid var(--border);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 100;
            box-shadow: var(--shadow);
            font-size: 18px;
            transition: all 0.3s;
        }

        .theme-toggle:hover {
            transform: rotate(20deg);
            background: var(--hover-bg);
        }

        .reset-button {
            position: fixed;
            top: 80px;
            right: 20px;
            background: var(--panel-bg);
            border: 1px solid var(--border);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 100;
            box-shadow: var(--shadow);
            font-size: 18px;
            transition: all 0.3s;
        }

        .reset-button:hover {
            transform: rotate(20deg);
            background: var(--hover-bg);
        }

        .top-container {
            max-width: 1800px;
            margin: 0 auto 20px;
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 20px;
        }

        @media (max-width: 1200px) {
            .top-container {
                grid-template-columns: 1fr;
            }
        }

        .panel {
            background: var(--panel-bg);
            border-radius: 16px;
            padding: 20px;
            box-shadow: var(--shadow);
            position: relative;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .panel:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-hover);
        }

        .panel h3 {
            margin-top: 0;
            color: var(--primary);
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        textarea, input, select {
            width: 100%;
            padding: 10px;
            border: 1px solid var(--border);
            border-radius: 8px;
            font-size: 14px;
            background: var(--input-bg);
            color: var(--text);
            resize: vertical;
        }

        textarea {
            height: 160px;
        }

        textarea:focus, input:focus, select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.2);
        }

        .copy-btn, .enhance-btn, .help-btn, .icon-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            background: var(--input-bg);
            border: 1px solid var(--border);
            width: 40px;
            height: 40px;
            padding: 0;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0;
            transition: all 0.2s;
            color: var(--text);
            text-decoration: none;
            font-size: 18px;
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è –∏–∫–æ–Ω–∫–∏ –ø–µ—Ä–µ–≤–æ–¥–∞ */
        .icon-btn {
            right: 70px; /* –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä—É–µ–º –ª–µ–≤–µ–µ –∫–Ω–æ–ø–∫–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è */
            width: 38px;
            height: 38px;
            padding: 0;
            justify-content: center;
            font-size: 18px;
        }

        .help-btn {
            right: 120px;
            background: var(--hover-bg);
        }

        .enhance-btn {
            position: static;
            width: 100%;
            margin-top: 10px;
            background: var(--primary);
            color: white;
            border: none;
        }

        .copy-btn:hover, .enhance-btn:hover, .help-btn:hover, .icon-btn:hover {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        .examples-container {
            background: var(--panel-bg);
            border-radius: 16px;
            padding: 20px;
            margin-top: 20px;
            box-shadow: var(--shadow);
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            padding: 8px 0;
        }

        .section-header h3,
        .subcategory-header h4 {
            margin: 0;
            color: var(--text);
        }

        .toggle-icon {
            font-size: 18px;
            transition: transform 0.3s;
            color: var(--text-muted);
        }

        .toggle-icon.collapsed {
            transform: rotate(-90deg);
        }

        .section-content,
        .subcategory-content {
            margin-top: 16px;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s ease, opacity 0.4s ease;
            opacity: 0;
        }

        .section-content.expanded,
        .subcategory-content.expanded {
            max-height: 1000px; /* Adjust as needed */
            opacity: 1;
        }

        /* --- Scrollbar styles for specific sections --- */
        .styles-content,
        .artistic-content {
            max-height: 400px; /* –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∂–µ–ª–∞–µ–º—É—é –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é –≤—ã—Å–æ—Ç—É */
            overflow-y: auto; /* –î–æ–±–∞–≤–ª—è–µ—Ç —Å–∫—Ä–æ–ª–ª–±–∞—Ä –ø–æ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏, –µ—Å–ª–∏ –∫–æ–Ω—Ç–µ–Ω—Ç –ø—Ä–µ–≤—ã—à–∞–µ—Ç max-height */
            padding-right: 10px; /* –ß—Ç–æ–±—ã –∫–æ–Ω—Ç–µ–Ω—Ç –Ω–µ –ø—Ä–∏–ª–∏–ø–∞–ª –∫ —Å–∫—Ä–æ–ª–ª–±–∞—Ä—É */
        }
        /* --- End of Scrollbar styles --- */


        .styles-list {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 10px;
        }

        .style-option {
            display: flex;
            align-items: center;
            white-space: nowrap;
            background: var(--input-bg);
            padding: 6px 12px;
            border-radius: 20px;
            border: 1px solid var(--border);
            font-size: 13px;
            cursor: pointer;
            transition: all 0.2s;
            color: var(--text);
        }

        .style-option:hover {
            background: var(--hover-bg);
            border-color: var(--primary);
        }

        .style-option input {
            margin-right: 6px;
        }

        .search-box {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            border: 1px solid var(--border);
            border-radius: 8px;
            font-size: 14px;
            background: var(--input-bg);
            color: var(--text);
        }

        .quality-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 14px;
            margin-top: 12px;
        }

        .quality-group label {
            display: block;
            margin-bottom: 6px;
            font-weight: 500;
            color: var(--text);
            font-size: 14px;
        }

        .example-btn {
            display: inline-block;
            background: var(--hover-bg);
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 13px;
            cursor: pointer;
            transition: background 0.2s;
            color: var(--text);
            margin: 4px 4px 0 0;
            white-space: nowrap;
        }

        .example-btn:hover {
            background: var(--border);
        }

        .btn-refresh {
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 8px;
            width: 36px;
            height: 36px;
            padding: 0;
            font-size: 18px;
            cursor: pointer;
            transition: background 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .btn-refresh:hover {
            background: var(--primary-light);
        }

        .control-container {
            max-width: 1800px;
            margin: 0 auto 20px;
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
        }

        @media (max-width: 1200px) {
            .control-container {
                grid-template-columns: 1fr 1fr;
            }
        }

        @media (max-width: 800px) {
            .control-container {
                grid-template-columns: 1fr;
            }
        }

        .styles-container,
        .quality-container,
        .artistic-container {
            background: var(--panel-bg);
            border-radius: 16px;
            padding: 20px;
            box-shadow: var(--shadow);
        }

        .history-container {
            background: var(--panel-bg);
            border-radius: 16px;
            padding: 20px;
            margin-top: 20px;
            box-shadow: var(--shadow);
        }

        .history-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            margin-top: 12px;
        }

        @media (max-width: 1000px) {
            .history-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 600px) {
            .history-grid {
                grid-template-columns: 1fr;
            }
        }

        .history-item {
            padding: 10px;
            border: 1px solid var(--border);
            border-radius: 10px;
            font-size: 13px;
            cursor: pointer;
            transition: background 0.2s;
            color: var(--text);
            background: var(--input-bg);
        }

        .history-item:hover {
            background: var(--hover-bg);
        }

        .history-actions {
            margin-top: 16px;
            text-align: right;
        }

        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.2s;
        }

        .btn-clear {
            background: var(--danger);
            color: white;
            width: 50px;
            height: 50px;
            padding: 0;
            font-size: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .btn-clear:hover {
            opacity: 0.9;
        }

        .notification {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--success);
            color: white;
            padding: 12px 20px;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            transform: translateY(100px);
            opacity: 0;
            transition: transform 0.3s, opacity 0.3s;
            z-index: 1000;
        }

        .notification.show {
            transform: translateY(0);
            opacity: 1;
        }

        .api-settings {
            margin-top: 12px;
            padding: 12px 0;
            border-top: 1px solid var(--border);
        }

        .api-settings label {
            display: block;
            margin: 8px 0 4px;
            font-size: 13px;
            color: var(--text);
        }
        
        .enhance-mode-container {
            margin-bottom: 10px;
        }

        .api-key-container {
            position: relative;
        }

        .remember-key-checkbox {
            display: flex;
            align-items: center;
            gap: 6px;
            margin-top: 6px;
            font-size: 12px;
            color: var(--text-muted);
            cursor: pointer;
        }

        .remember-key-checkbox input[type="checkbox"] {
            width: auto;
            cursor: pointer;
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.6);
        }

        .modal-content {
            background: var(--panel-bg);
            margin: 5% auto;
            padding: 25px;
            border-radius: 16px;
            width: 90%;
            max-width: 800px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.4);
            position: relative;
            max-height: 80vh;
            overflow-y: auto;
        }

        .close-modal {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 24px;
            cursor: pointer;
            color: var(--text-muted);
        }

        .close-modal:hover {
            color: var(--text);
        }

        .modal h3 {
            margin-top: 0;
            color: var(--primary);
        }

        .modal ol {
            padding-left: 20px;
            margin: 15px 0;
        }

        .modal li {
            margin-bottom: 12px;
            line-height: 1.5;
        }

        .modal a {
            color: var(--primary);
            text-decoration: underline;
        }

        .modal a:hover {
            color: var(--primary-light);
        }

        /* Nested Artistic Categories */
        .artistic-category-level-1 {
            margin-left: 10px; /* Indent subcategories */
            padding-left: 10px;
            border-left: 2px solid var(--border);
            margin-top: 10px;
            margin-bottom: 10px;
        }

        .artistic-category-level-2 {
            margin-left: 10px; /* Further indent */
            padding-left: 10px;
            border-left: 1px dashed var(--border);
            margin-top: 8px;
            margin-bottom: 8px;
        }

        .artistic-category-level-1 > .section-header h3 {
            color: var(--text); /* Make sub-headers less prominent than main ones */
        }
        .artistic-category-level-2 > .section-header h4 {
            color: var(--text-muted); /* Make sub-sub-headers even less prominent */
        }


        /* –°—á—ë—Ç—á–∏–∫ —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ */
        .artistic-counter {
            display: inline-block;
            margin-left: 8px;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
            background: var(--success);
            color: white;
            transition: all 0.3s;
        }

        .artistic-counter.exceeded {
            background: var(--danger);
            animation: pulse 0.5s ease-in-out;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        /* –¢–æ—Å—Ç-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è */
        .toast {
            position: fixed;
            bottom: 80px;
            right: 20px;
            background: var(--danger);
            color: white;
            padding: 14px 20px;
            border-radius: 10px;
            box-shadow: 0 4px 16px rgba(0,0,0,0.3);
            transform: translateX(400px);
            opacity: 0;
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            z-index: 1001;
            max-width: 320px;
            font-size: 14px;
        }

        .toast.show {
            transform: translateX(0);
            opacity: 1;
        }

        /* –ö–Ω–æ–ø–∫–∏ –ø—Ä–µ—Å–µ—Ç–æ–≤ */
        .preset-controls {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 16px;
            padding-top: 16px;
            border-top: 1px solid var(--border);
        }

        .preset-btn {
            padding: 0;
            width: 50px;
            height: 50px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 24px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .preset-btn:hover {
            background: var(--primary-light);
            transform: translateY(-2px);
        }

        .preset-btn.secondary {
            background: var(--hover-bg);
            color: var(--text);
            border: 1px solid var(--border);
        }

        .preset-btn.secondary:hover {
            background: var(--border);
        }

        .preset-list {
            margin-top: 12px;
            max-height: 200px;
            overflow-y: auto;
        }

        .preset-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            margin: 6px 0;
            background: var(--input-bg);
            border: 1px solid var(--border);
            border-radius: 8px;
            transition: all 0.2s;
            cursor: pointer;
        }

        .preset-item:hover {
            background: var(--hover-bg);
            border-color: var(--primary);
        }

        .preset-item-name {
            font-weight: 600;
            color: var(--text);
            flex: 1;
        }

        .preset-item-actions {
            display: flex;
            gap: 6px;
        }

        .preset-item-btn {
            padding: 4px 10px;
            font-size: 12px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .preset-item-btn.load {
            background: var(--success);
            color: white;
        }

        .preset-item-btn.delete {
            background: var(--danger);
            color: white;
        }

        .preset-item-btn:hover {
            opacity: 0.8;
            transform: scale(1.05);
        }

        /* –ö–Ω–æ–ø–∫–∞ —Å–ª—É—á–∞–π–Ω–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞ */
        .random-prompt-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 0;
            height: 50px;
            border-radius: 8px;
            font-weight: 600;
            font-size: 24px;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 12px;
            width: 100%;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .random-prompt-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);
        }

        .random-prompt-btn:active {
            transform: translateY(0);
        }

        /* Modal –¥–ª—è –ø—Ä–µ—Å–µ—Ç–æ–≤ */
        .preset-modal-content {
            background: var(--panel-bg);
            margin: 10% auto;
            padding: 25px;
            border-radius: 16px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.4);
        }

        .preset-modal-content input {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            border: 1px solid var(--border);
            border-radius: 8px;
            background: var(--input-bg);
            color: var(--text);
        }

        .preset-modal-actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .preset-modal-actions button {
            flex: 1;
            padding: 10px;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        .preset-modal-actions .btn-save {
            background: var(--success);
            color: white;
        }

        .preset-modal-actions .btn-cancel {
            background: var(--hover-bg);
            color: var(--text);
        }
        
        .translation-result {
            margin-top: 15px;
            padding: 15px;
            background: var(--hover-bg);
            border-radius: 8px;
            border-left: 4px solid var(--primary);
            white-space: pre-wrap;
        }


        .translation-copy-btn {
            margin-top: 10px;
            padding: 8px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            transition: all 0.2s;
        }
        
        .translation-copy-btn:hover {
            background: var(--primary-light);
        }

    </style>
<script type="text/javascript" nonce="9f20834369e841209135b4a595e" src="//local.adguard.org?ts=1764405769856&amp;type=content-script&amp;dmn=www.genspark.ai&amp;url=https%3A%2F%2Fwww.genspark.ai%2Fapi%2Fcode_sandbox%2Fdownload_file%3Fproject_id%3D8dbc2d60-641e-48ae-9408-c98a959b082c%26path%3D%252Fmnt%252Fuser-data%252Foutputs%252FIPG_Q_ai_15.html%26enable_backup%3Dtrue%26enable_recovery%3Dtrue&amp;app=browser.exe&amp;css=3&amp;js=1&amp;rel=1&amp;rji=1&amp;sbe=1"></script><script type="text/javascript" nonce="9f20834369e841209135b4a595e" src="//local.adguard.org?ts=1764405769856&amp;name=AdGuard%20Extra&amp;name=AdGuard%20Popup%20Blocker&amp;type=user-script"></script></head>
<body>
    <div class="theme-toggle" id="theme-toggle" title="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É">üåô</div>
    <div class="reset-button" id="reset-button" title="–°–±—Ä–æ—Å–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã">üîÑ</div>

    <div class="top-container">
        <div class="panel">
            <h3>üìù –í–≤–æ–¥ –Ω–∞ —Ä—É—Å—Å–∫–æ–º</h3>
            <textarea id="input" placeholder="–û–ø–∏—à–∏—Ç–µ, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –≤–∏–¥–µ—Ç—å, –Ω–∞–ø—Ä–∏–º–µ—Ä: '–ö–æ—Ç –Ω–∞ –∫—Ä—ã—à–µ –ø–æ–¥ –ª—É–Ω–æ–π'"></textarea>

            <div class="examples-container">
                <div class="section-header" style="padding: 0; margin-bottom: 12px;">
                    <h3>‚ú® –ü—Ä–∏–º–µ—Ä—ã –ø—Ä–æ–º–ø—Ç–æ–≤</h3>
                    <button class="btn-refresh" onclick="renderRandomExamples()" title="–û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–º–µ—Ä—ã">üîÑ</button>
                </div>
                <div id="examples-list"></div>
                <button class="random-prompt-btn" onclick="generateRandomPrompt()" title="–°–ª—É—á–∞–π–Ω—ã–π –ø—Ä–æ–º–ø—Ç">üé≤</button>
            </div>
        </div>

        <div class="panel">
            <h3>üéØ –ì–æ—Ç–æ–≤—ã–π –ø—Ä–æ–º–ø—Ç</h3>
            <button class="icon-btn" onclick="translateBack('output')" title="–ü–µ—Ä–µ–≤–µ—Å—Ç–∏ –æ–±—Ä–∞—Ç–Ω–æ –Ω–∞ —Ä—É—Å—Å–∫–∏–π">üåê</button>
            <button id="copy-btn" class="copy-btn" title="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–º–ø—Ç">üìã</button>
            <textarea id="output" readonly placeholder="–ó–¥–µ—Å—å –ø–æ—è–≤–∏—Ç—Å—è –ø—Ä–æ–º–ø—Ç..."></textarea>
        </div>

        <div class="panel">
            <h3>‚ú® –£–ª—É—á—à–µ–Ω–Ω—ã–π –ø—Ä–æ–º–ø—Ç</h3>
            <button class="icon-btn" onclick="translateBack('enhanced-output')" title="–ü–µ—Ä–µ–≤–µ—Å—Ç–∏ –æ–±—Ä–∞—Ç–Ω–æ –Ω–∞ —Ä—É—Å—Å–∫–∏–π">üåê</button>
            <button id="copy-enhanced-btn" class="copy-btn" title="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —É–ª—É—á—à–µ–Ω–Ω—ã–π –ø—Ä–æ–º–ø—Ç">üìã</button>
            <button id="help-btn" class="help-btn" onclick="openHelpModal()" title="–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è">‚ùì</button>
            <textarea id="enhanced-output" readonly placeholder="–ù–∞–∂–º–∏—Ç–µ '–£–ª—É—á—à–∏—Ç—å' –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏..."></textarea>

            <div class="api-settings">
                <div class="api-key-container">
                    <label for="api-key">üîë –í–∞—à API-–∫–ª—é—á Groq:</label>
                    <input type="password" id="api-key" placeholder="gsk_...">
                    <label class="remember-key-checkbox">
                        <input type="checkbox" id="remember-key">
                        <span>–ó–∞–ø–æ–º–Ω–∏—Ç—å –∫–ª—é—á –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏</span>
                    </label>
                </div>

                <label for="model-input">üß† –ú–æ–¥–µ–ª—å (—Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è):</label>
                <input type="text" id="model-input" placeholder="llama3-8b-8192">
                
                <div class="enhance-mode-container">
                    <label for="enhance-mode">üé® –†–µ–∂–∏–º —É–ª—É—á—à–µ–Ω–∏—è:</label>
                    <select id="enhance-mode">
                        <option value="artistic">–•—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ (Artistic)</option>
                        <option value="technical">–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏ –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ (Technical)</option>
                        <option value="cinematic">–ö–∏–Ω–µ–º–∞—Ç–æ–≥—Ä–∞—Ñ–∏—á–Ω–æ (Cinematic)</option>
                        <option value="anime">–ê–Ω–∏–º–µ-—Å—Ç–∏–ª—å (Anime)</option>
                        <option value="minimalist">–ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω–æ (Minimalist)</option>
                    </select>
                </div>
            </div>

            <button id="enhance-btn" class="enhance-btn" title="–£–ª—É—á—à–∏—Ç—å –ø—Ä–æ–º–ø—Ç">üé®</button>
        </div>
    </div>

    <div class="control-container">
        <div class="styles-container">
            <div class="section-header" onclick="toggleSection('styles')">
                <h3>üé® –°—Ç–∏–ª–∏ (–≤—ã–±–µ—Ä–∏—Ç–µ –æ–¥–∏–Ω)</h3>
                <span class="toggle-icon" id="styles-toggle">‚ñº</span>
            </div>
            <input type="text" class="search-box" id="style-search" placeholder="–ü–æ–∏—Å–∫ —Å—Ç–∏–ª—è...">
            <div class="section-content styles-content" id="styles-content"></div>
        </div>

        <div class="quality-container">
            <div class="section-header" onclick="toggleSection('quality')">
                <h3>üéõÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞</h3>
                <span class="toggle-icon" id="quality-toggle">‚ñº</span>
            </div>
            <div class="section-content" id="quality-content">
                <div class="quality-grid">
                    <div class="quality-group">
                        <label>–†–∞–∑—Ä–µ—à–µ–Ω–∏–µ</label>
                        <select id="resolution">
                            <option value="">–ù–µ—Ç</option>
                            <option value="4K resolution">4K</option>
                            <option value="8K resolution">8K</option>
                            <option value="Ultra HD">Ultra HD</option>
                            <option value="Full HD">Full HD</option>
                            <option value="1440p">1440p</option>
                            <option value="1080p">1080p</option>
                            <option value="HD">HD</option>
                        </select>
                    </div>
                    <div class="quality-group">
                        <label>–û—Å–≤–µ—â–µ–Ω–∏–µ</label>
                        <select id="lighting">
                            <option value="">–ù–µ—Ç</option>
                            <option value="cinematic lighting">–ö–∏–Ω–µ–º–∞—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–µ</option>
                            <option value="dramatic lighting">–î—Ä–∞–º–∞—Ç–∏—á–µ—Å–∫–æ–µ</option>
                            <option value="soft lighting">–ú—è–≥–∫–æ–µ</option>
                            <option value="studio lighting">–°—Ç—É–¥–∏–π–Ω–æ–µ</option>
                            <option value="natural lighting">–ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ</option>
                            <option value="backlighting">–ö–æ–Ω—Ç—Ä–æ–≤–æ–µ</option>
                            <option value="side lighting">–ë–æ–∫–æ–≤–æ–µ</option>
                            <option value="golden hour lighting">–ó–æ–ª–æ—Ç–æ–π —á–∞—Å</option>
                            <option value="twilight lighting">–°—É–º–µ—Ä–∫–∏</option>
                            <option value="neon lighting">–ù–µ–æ–Ω–æ–≤–æ–µ</option>
                        </select>
                    </div>
                    <div class="quality-group">
                        <label>–¶–≤–µ—Ç–∞</label>
                        <select id="colors">
                            <option value="">–ù–µ—Ç</option>
                            <option value="vibrant colors">–Ø—Ä–∫–∏–µ</option>
                            <option value="muted colors">–ü—Ä–∏–≥–ª—É—à–µ–Ω–Ω—ã–µ</option>
                            <option value="pastel colors">–ü–∞—Å—Ç–µ–ª—å–Ω—ã–µ</option>
                            <option value="monochrome">–ú–æ–Ω–æ—Ö—Ä–æ–º</option>
                            <option value="warm tones">–¢—ë–ø–ª—ã–µ —Ç–æ–Ω–∞</option>
                            <option value="cool tones">–•–æ–ª–æ–¥–Ω—ã–µ —Ç–æ–Ω–∞</option>
                            <option value="high contrast colors">–ö–æ–Ω—Ç—Ä–∞—Å—Ç–Ω—ã–µ</option>
                            <option value="earth tones">–ó–µ–º–ª—è–Ω—ã–µ —Ç–æ–Ω–∞</option>
                            <option value="retro color palette">–†–µ—Ç—Ä–æ –ø–∞–ª–∏—Ç—Ä–∞</option>
                        </select>
                    </div>
                    <div class="quality-group">
                        <label>–§–æ–∫—É—Å</label>
                        <select id="focus">
                            <option value="">–ù–µ—Ç</option>
                            <option value="sharp focus">–†–µ–∑–∫–∏–π</option>
                            <option value="soft focus">–ú—è–≥–∫–∏–π</option>
                            <option value="bokeh">–ë–æ–∫–µ</option>
                            <option value="deep depth of field">–ì–ª—É–±–æ–∫–∞—è —Ä–µ–∑–∫–æ—Å—Ç—å</option>
                            <option value="selective focus">–°–µ–ª–µ–∫—Ç–∏–≤–Ω—ã–π —Ñ–æ–∫—É—Å</option>
                            <option value="blurred background">–†–∞–∑–º—ã—Ç—ã–π —Ñ–æ–Ω</option>
                        </select>
                    </div>
                    <div class="quality-group" style="grid-column: span 2;">
                        <label>–î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è</label>
                        <select id="detail">
                            <option value="">–ù–µ—Ç</option>
                            <option value="highly detailed">–í—ã—Å–æ–∫–∞—è</option>
                            <option value="ultra detailed">–£–ª—å—Ç—Ä–∞</option>
                            <option value="photorealistic">–†–µ–∞–ª–∏—Å—Ç–∏—á–Ω–∞—è</option>
                            <option value="intricate details">–ò–∑—ã—Å–∫–∞–Ω–Ω–∞—è</option>
                            <option value="minimalist detail">–ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω–∞—è</option>
                            <option value="low detail">–ù–∏–∑–∫–∞—è –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>

        <div class="artistic-container">
            <div class="section-header" onclick="toggleSection('artistic')">
                <h3>üñºÔ∏è –•—É–¥–æ–∂. —ç–ª–µ–º–µ–Ω—Ç—ã (–¥–æ 5)<span class="artistic-counter" id="artistic-counter">0/5</span></h3>
                <span class="toggle-icon" id="artistic-toggle">‚ñº</span>
            </div>
            <input type="text" class="search-box" id="artistic-search" placeholder="–ü–æ–∏—Å–∫...">
            <div class="section-content artistic-content" id="artistic-content"></div>
        </div>
    </div>

    <div class="history-container">
        <div class="section-header" onclick="toggleSection('history')">
            <h3>üïí –ò—Å—Ç–æ—Ä–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤ (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 60)</h3>
            <span class="toggle-icon" id="history-toggle">‚ñº</span>
        </div>
        <div class="section-content" id="history-content">
            <div class="history-grid" id="history-grid"></div>
            <div class="history-actions">
                <button class="btn btn-clear" onclick="clearHistory()" title="–û—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é">üóëÔ∏è</button>
            </div>
        </div>
    </div>

    <!-- Modal —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–µ–π -->
    <div id="help-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeHelpModal()">&times;</span>
            <h3>‚ùì –ö—Ä–∞—Ç–∫–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ Groq Cloud API</h3>
            <ol>
                <li><strong>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è:</strong> –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Å–∞–π—Ç <a href="https://console.groq.com" target="_blank">https://console.groq.com</a> –∏ –Ω–∞–∂–º–∏—Ç–µ "Sign Up" (–∏–ª–∏ –≤–æ–π–¥–∏—Ç–µ —á–µ—Ä–µ–∑ Google/GitHub). –°–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç –±–µ—Å–ø–ª–∞—Ç–Ω–æ, –±–µ–∑ –∫—Ä–µ–¥–∏—Ç–Ω–æ–π –∫–∞—Ä—Ç—ã. –ù–æ–≤—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–æ–ª—É—á–∞—é—Ç –¥–æ—Å—Ç—É–ø –∫ free tier —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏.</li>
                <li><strong>–ü–æ–ª—É—á–µ–Ω–∏–µ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–≥–æ API-–∫–ª—é—á–∞:</strong> –ü–æ—Å–ª–µ –≤—Ö–æ–¥–∞ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "API Keys" (<a href="https://console.groq.com/keys" target="_blank">https://console.groq.com/keys</a>). –ù–∞–∂–º–∏—Ç–µ "Create API Key", —É–∫–∞–∂–∏—Ç–µ –∏–º—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –∫–ª—é—á. –û–Ω –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –∏ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é. <strong>–ö–õ–Æ–ß –°–ö–û–ü–ò–†–£–ô–¢–ï –ò –°–û–•–†–ê–ù–ò–¢–ï. –ü–†–û–°–ú–û–¢–†–ï–¢–¨ –ï–ì–û –ü–û–¢–û–ú –ë–£–î–ï–¢ –ù–ï–õ–¨–ó–Ø.</strong></li>
                <li><strong>–í—ã–±–æ—Ä –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–π –º–æ–¥–µ–ª–∏:</strong> –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ playground (<a href="https://console.groq.com/playground" target="_blank">https://console.groq.com/playground</a>) –∏–ª–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –º–æ–¥–µ–ª–µ–π (<a href="https://console.groq.com/docs/models" target="_blank">https://console.groq.com/docs/models</a>), –≥–¥–µ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω—ã –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, Llama 3.1, Mixtral, Gemma, Whisper). –í—ã–±–µ—Ä–∏—Ç–µ –º–æ–¥–µ–ª—å –∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–π—Ç–µ –µ—ë –≤ API-–∑–∞–ø—Ä–æ—Å—ã —Å –≤–∞—à–∏–º –∫–ª—é—á–æ–º (<a href="https://console.groq.com/docs/quickstart" target="_blank">–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</a>). –£—á—Ç–∏—Ç–µ –ª–∏–º–∏—Ç—ã free tier: –Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è Llama-3.1-405b ‚Äî 131 072 —Ç–æ–∫–µ–Ω–æ–≤ –≤ –º–∏–Ω—É—Ç—É/–¥–µ–Ω—å; –¥–ª—è –¥—Ä—É–≥–∏—Ö –º–æ–¥–µ–ª–µ–π –ª–∏–º–∏—Ç—ã –Ω–∏–∂–µ (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç–µ). Developer tier –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –¥–æ 10x –≤—ã—à–µ –ª–∏–º–∏—Ç—ã –∑–∞ –ø–ª–∞—Ç—É.</li>
            </ol>
        </div>
    </div>
    
    <!-- Modal –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –ø–µ—Ä–µ–≤–æ–¥–∞ -->
    <div id="translation-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeTranslationModal()">&times;</span>
            <h3>üá∑üá∫ –ü–µ—Ä–µ–≤–æ–¥ –ø—Ä–æ–º–ø—Ç–∞</h3>
            <p>–í–æ—Ç –∫–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç —ç—Ç–æ—Ç –ø—Ä–æ–º–ø—Ç –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ:</p>
            <div id="translation-result" class="translation-result">–ó–∞–≥—Ä—É–∑–∫–∞ –ø–µ—Ä–µ–≤–æ–¥–∞...</div>
            <button class="translation-copy-btn" onclick="copyTranslation()" title="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä–µ–≤–æ–¥">üìã</button>
        </div>
    </div>

    <div class="notification" id="notification">–ü—Ä–æ–º–ø—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω!</div>

    <!-- Modal –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø—Ä–µ—Å–µ—Ç–∞ -->
    <div id="preset-modal" class="modal">
        <div class="preset-modal-content">
            <h3>üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–µ—Å–µ—Ç</h3>
            <input type="text" id="preset-name-input" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–µ—Å–µ—Ç–∞...">
            <div class="preset-modal-actions">
                <button class="btn-save" onclick="confirmSavePreset()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                <button class="btn-cancel" onclick="closePresetModal()">–û—Ç–º–µ–Ω–∞</button>
            </div>
        </div>
    </div>

    <!-- Modal –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞ –ø—Ä–µ—Å–µ—Ç–æ–≤ -->
    <div id="import-modal" class="modal">
        <div class="preset-modal-content">
            <h3>üì• –ò–º–ø–æ—Ä—Ç –ø—Ä–µ—Å–µ—Ç–æ–≤</h3>
            <textarea id="import-json-input" placeholder="–í—Å—Ç–∞–≤—å—Ç–µ JSON..." style="height: 150px; font-family: monospace; font-size: 12px;"></textarea>
            <div class="preset-modal-actions">
                <button class="btn-save" onclick="confirmImportPresets()">–ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
                <button class="btn-cancel" onclick="closeImportModal()">–û—Ç–º–µ–Ω–∞</button>
            </div>
        </div>
    </div>

    <div class="toast" id="toast">–°–æ–æ–±—â–µ–Ω–∏–µ</div>

    <!-- –°–µ–∫—Ü–∏—è –ø—Ä–µ—Å–µ—Ç–æ–≤ -->
    <div class="history-container" style="margin-top: 20px;">
        <div class="section-header" onclick="toggleSection('presets')">
            <h3>üíæ –ü—Ä–µ—Å–µ—Ç—ã</h3>
            <span class="toggle-icon collapsed" id="presets-toggle">‚ñº</span>
        </div>
        <div class="section-content" id="presets-content">
            <div class="preset-controls">
                <button class="preset-btn" onclick="savePresetDialog()" title="–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–µ—Å–µ—Ç">üíæ</button>
                <button class="preset-btn secondary" onclick="exportPresets()" title="–≠–∫—Å–ø–æ—Ä—Ç –ø—Ä–µ—Å–µ—Ç–æ–≤">üì§</button>
                <button class="preset-btn secondary" onclick="importPresetsDialog()" title="–ò–º–ø–æ—Ä—Ç –ø—Ä–µ—Å–µ—Ç–æ–≤">üì•</button>
            </div>
            <div class="preset-list" id="preset-list"></div>
        </div>
    </div>


    <script>
        // === Groq Settings ===
        const MODEL_KEY = 'flux_groq_model';
        const API_KEY_STORAGE = 'flux_groq_api_key';
        const REMEMBER_KEY_FLAG = 'flux_remember_api_key';
        let GROQ_KEY = '';
        let SELECTED_MODEL = localStorage.getItem(MODEL_KEY) || 'llama3-8b-8192';

        document.addEventListener('DOMContentLoaded', () => {
            document.getElementById('model-input').value = SELECTED_MODEL;
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–π –∫–ª—é—á, –µ—Å–ª–∏ —Ñ–ª–∞–≥ –∑–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
            const rememberKey = localStorage.getItem(REMEMBER_KEY_FLAG) === 'true';
            document.getElementById('remember-key').checked = rememberKey;
            
            if (rememberKey) {
                const savedKey = localStorage.getItem(API_KEY_STORAGE);
                if (savedKey) {
                    GROQ_KEY = savedKey;
                    document.getElementById('api-key').value = savedKey;
                }
            }
        });

        document.getElementById('model-input').addEventListener('input', (e) => {
            SELECTED_MODEL = e.target.value.trim() || 'llama3-8b-8192';
            localStorage.setItem(MODEL_KEY, SELECTED_MODEL);
        });

        document.getElementById('api-key').addEventListener('input', (e) => {
            GROQ_KEY = e.target.value.trim();
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∫–ª—é—á —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —á–µ–∫–±–æ–∫—Å –æ—Ç–º–µ—á–µ–Ω
            const rememberKey = document.getElementById('remember-key').checked;
            if (rememberKey) {
                localStorage.setItem(API_KEY_STORAGE, GROQ_KEY);
            }
        });

        document.getElementById('remember-key').addEventListener('change', (e) => {
            const isChecked = e.target.checked;
            localStorage.setItem(REMEMBER_KEY_FLAG, isChecked.toString());
            
            if (isChecked) {
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–µ–∫—É—â–∏–π –∫–ª—é—á
                if (GROQ_KEY) {
                    localStorage.setItem(API_KEY_STORAGE, GROQ_KEY);
                }
            } else {
                // –£–¥–∞–ª—è–µ–º —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–π –∫–ª—é—á
                localStorage.removeItem(API_KEY_STORAGE);
            }
        });

        // === Modal Help ===
        function openHelpModal() {
            document.getElementById('help-modal').style.display = 'block';
        }

        function closeHelpModal() {
            document.getElementById('help-modal').style.display = 'none';
        }
        
        // === Modal Translation ===
        function closeTranslationModal() {
            document.getElementById('translation-modal').style.display = 'none';
        }

        window.onclick = function(event) {
            const helpModal = document.getElementById('help-modal');
            const translationModal = document.getElementById('translation-modal');
            const presetModal = document.getElementById('preset-modal');
            const importModal = document.getElementById('import-modal');
            
            if (event.target === helpModal) closeHelpModal();
            if (event.target === translationModal) closeTranslationModal();
            if (event.target === presetModal) closePresetModal();
            if (event.target === importModal) closeImportModal();
        };

        // === –¢—ë–º–Ω—ã–π —Ä–µ–∂–∏–º ===
        const themeToggle = document.getElementById('theme-toggle');
        const THEME_KEY = 'flux_theme';

        function setTheme(theme) {
            document.documentElement.setAttribute('data-theme', theme);
            localStorage.setItem(THEME_KEY, theme);
            themeToggle.textContent = theme === 'dark' ? '‚òÄÔ∏è' : 'üåô';
        }

        function initTheme() {
            const savedTheme = localStorage.getItem(THEME_KEY);
            if (savedTheme) {
                setTheme(savedTheme);
            } else {
                const systemPrefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
                setTheme(systemPrefersDark ? 'dark' : 'light');
            }
        }

        themeToggle.addEventListener('click', () => {
            const current = document.documentElement.getAttribute('data-theme');
            setTheme(current === 'dark' ? 'light' : 'dark');
        });

        // === –°–¢–ò–õ–ò –ò–ó CSV ===
        const styleDescriptions = {
            "3D Model": "professional 3d model {prompt} octane render, highly detailed, volumetric, dramatic lighting",
            "Analog Film": "analog film photo {prompt} faded film, desaturated, 35mm photo, grainy, vignette, vintage, Kodachrome, Lomography, stained, highly detailed, found footage",
            "Anime": "anime artwork {prompt} anime style, key visual, vibrant, studio anime, highly detailed",
            "Cinematic": "cinematic film still {prompt} shallow depth of field, vignette, highly detailed, high budget, bokeh, cinemascope, moody, epic, gorgeous, film grain, grainy",
            "Comic Book": "comic {prompt} graphic illustration, comic art, graphic novel art, vibrant, highly detailed",
            "Craft Clay": "play-doh style {prompt} sculpture, clay art, centered composition, Claymation",
            "Digital Art": "concept art {prompt} digital artwork, illustrative, painterly, matte painting, highly detailed",
            "Enhance": "breathtaking {prompt} award-winning, professional, highly detailed",
            "Fantasy Art": "ethereal fantasy concept art of {prompt} magnificent, celestial, ethereal, painterly, epic, majestic, magical, fantasy art, cover art, dreamy",
            "Isometric": "isometric style {prompt} vibrant, beautiful, crisp, detailed, ultra detailed, intricate",
            "Line Art": "line art drawing {prompt} professional, sleek, modern, minimalist, graphic, line art, vector graphics",
            "Lowpoly": "low-poly style {prompt} low-poly game art, polygon mesh, jagged, blocky, wireframe edges, centered composition",
            "Neonpunk": "neonpunk style {prompt} cyberpunk, vaporwave, neon, vibes, vibrant, stunningly beautiful, crisp, detailed, sleek, ultramodern, magenta highlights, dark purple shadows, high contrast, cinematic, ultra detailed, intricate, professional",
            "Origami": "origami style {prompt} paper art, pleated paper, folded, origami art, pleats, cut and fold, centered composition",
            "Photographic": "cinematic photo {prompt} 35mm photograph, film, bokeh, professional, 4k, highly detailed",
            "Pixel Art": "pixel-art {prompt} low-res, blocky, pixel art style, 8-bit graphics",
            "Texture": "texture {prompt} top down close-up",
            "Ads Advertising": "advertising poster style {prompt} Professional, modern, product-focused, commercial, eye-catching, highly detailed",
            "Ads Automotive": "automotive advertisement style {prompt} sleek, dynamic, professional, commercial, vehicle-focused, high-resolution, highly detailed",
            "Ads Corporate": "corporate branding style {prompt} professional, clean, modern, sleek, minimalist, business-oriented, highly detailed",
            "Ads Fashion Editorial": "fashion editorial style {prompt} high fashion, trendy, stylish, editorial, magazine style, professional, highly detailed",
            "Ads Food Photography": "food photography style {prompt} appetizing, professional, culinary, high-resolution, commercial, highly detailed",
            "Ads Gourmet Food Photography": "gourmet food photo of {prompt} soft natural lighting, macro details, vibrant colors, fresh ingredients, glistening textures, bokeh background, styled plating, wooden tabletop, garnished, tantalizing, editorial quality",
            "Ads Luxury": "luxury product style {prompt} elegant, sophisticated, high-end, luxurious, professional, highly detailed",
            "Ads Real Estate": "real estate photography style {prompt} professional, inviting, well-lit, high-resolution, property-focused, commercial, highly detailed",
            "Ads Retail": "retail packaging style {prompt} vibrant, enticing, commercial, product-focused, eye-catching, professional, highly detailed",
            "Artstyle Abstract": "abstract style {prompt} non-representational, colors and shapes, expression of feelings, imaginative, highly detailed",
            "Artstyle Abstract Expressionism": "abstract expressionist painting {prompt} energetic brushwork, bold colors, abstract forms, expressive, emotional",
            "Artstyle Art Deco": "art deco style {prompt} geometric shapes, bold colors, luxurious, elegant, decorative, symmetrical, ornate, detailed",
            "Artstyle Art Nouveau": "art nouveau style {prompt} elegant, decorative, curvilinear forms, nature-inspired, ornate, detailed",
            "Artstyle Constructivist": "constructivist style {prompt} geometric shapes, bold colors, dynamic composition, propaganda art style",
            "Artstyle Cubist": "cubist artwork {prompt} geometric shapes, abstract, innovative, revolutionary",
            "Artstyle Expressionist": "expressionist {prompt} raw, emotional, dynamic, distortion for emotional effect, vibrant, use of unusual colors, detailed",
            "Artstyle Graffiti": "graffiti style {prompt} street art, vibrant, urban, detailed, tag, mural",
            "Artstyle Hyperrealism": "hyperrealistic art {prompt} extremely high-resolution details, photographic, realism pushed to extreme, fine texture, incredibly lifelike",
            "Artstyle Impressionist": "impressionist painting {prompt} loose brushwork, vibrant color, light and shadow play, captures feeling over form",
            "Artstyle Pointillism": "pointillism style {prompt} composed entirely of small, distinct dots of color, vibrant, highly detailed",
            "Artstyle Pop Art": "pop Art style {prompt} bright colors, bold outlines, popular culture themes, ironic or kitsch",
            "Artstyle Psychedelic": "psychedelic style {prompt} vibrant colors, swirling patterns, abstract forms, surreal, trippy",
            "Artstyle Renaissance": "renaissance style {prompt} realistic, perspective, light and shadow, religious or mythological themes, highly detailed",
            "Artstyle Steampunk": "steampunk style {prompt} antique, mechanical, brass and copper tones, gears, intricate, detailed",
            "Artstyle Surrealist": "surrealist art {prompt} dreamlike, mysterious, provocative, symbolic, intricate, detailed",
            "Artstyle Typography": "typographic art {prompt} stylized, intricate, detailed, artistic, text-based",
            "Artstyle Watercolor": "watercolor painting {prompt} vibrant, beautiful, painterly, detailed, textural, artistic",
            "Futuristic Biomechanical": "biomechanical style {prompt} blend of organic and mechanical elements, futuristic, cybernetic, detailed, intricate",
            "Futuristic Biomechanical Cyberpunk": "biomechanical cyberpunk {prompt} cybernetics, human-machine fusion, dystopian, organic meets artificial, dark, intricate, highly detailed",
            "Futuristic Cybernetic": "cybernetic style {prompt} futuristic, technological, cybernetic enhancements, robotics, artificial intelligence themes",
            "Futuristic Cybernetic Robot": "cybernetic robot {prompt} android, AI, machine, metal, wires, tech, futuristic, highly detailed",
            "Futuristic Cyberpunk Cityscape": "cyberpunk cityscape {prompt} neon lights, dark alleys, skyscrapers, futuristic, vibrant colors, high contrast, highly detailed",
            "Futuristic Futuristic": "futuristic style {prompt} sleek, modern, ultramodern, high tech, detailed",
            "Futuristic Retro Cyberpunk": "retro cyberpunk {prompt} 80's inspired, synthwave, neon, vibrant, detailed, retro futurism",
            "Futuristic Retro Futurism": "retro-futuristic {prompt} vintage sci-fi, 50s and 60s style, atomic age, vibrant, highly detailed",
            "Futuristic Sci Fi": "sci-fi style {prompt} futuristic, technological, alien worlds, space themes, advanced civilizations",
            "Futuristic Vaporwave": "vaporwave style {prompt} retro aesthetic, cyberpunk, vibrant, neon colors, vintage 80s and 90s style, highly detailed",
            "Game Bubble Bobble": "Bubble Bobble style {prompt} 8-bit, cute, pixelated, fantasy, vibrant, reminiscent of Bubble Bobble game",
            "Game Cyberpunk Game": "cyberpunk game style {prompt} neon, dystopian, futuristic, digital, vibrant, detailed, high contrast, reminiscent of cyberpunk genre video games",
            "Game Fighting Game": "fighting game style {prompt} dynamic, vibrant, action-packed, detailed character design, reminiscent of fighting video games",
            "Game Gta": "GTA-style artwork {prompt} satirical, exaggerated, pop art style, vibrant colors, iconic characters, action-packed",
            "Game Mario": "Super Mario style {prompt} vibrant, cute, cartoony, fantasy, playful, reminiscent of Super Mario series",
            "Game Minecraft": "Minecraft style {prompt} blocky, pixelated, vibrant colors, recognizable characters and objects, game assets",
            "Game Pokemon": "Pok√©mon style {prompt} vibrant, cute, anime, fantasy, reminiscent of Pok√©mon series",
            "Game Retro Arcade": "retro arcade style {prompt} 8-bit, pixelated, vibrant, classic video game, old school gaming, reminiscent of 80s and 90s arcade games",
            "Game Retro Game": "retro game art {prompt} 16-bit, vibrant colors, pixelated, nostalgic, charming, fun",
            "Game RPG Fantasy Game": "role-playing game (RPG) style fantasy {prompt} detailed, vibrant, immersive, reminiscent of high fantasy RPG games",
            "Game Strategy Game": "strategy game style {prompt} overhead view, detailed map, units, reminiscent of real-time strategy video games",
            "Game Streetfighter": "Street Fighter style {prompt} vibrant, dynamic, arcade, 2D fighting game, highly detailed, reminiscent of Street Fighter series",
            "Game Zelda": "Legend of Zelda style {prompt} vibrant, fantasy, detailed, epic, heroic, reminiscent of The Legend of Zelda series",
            "Misc Architectural": "architectural style {prompt} clean lines, geometric shapes, minimalist, modern, architectural drawing, highly detailed",
            "Misc Disco": "disco-themed {prompt} vibrant, groovy, retro 70s style, shiny disco balls, neon lights, dance floor, highly detailed",
            "Misc Dreamscape": "dreamscape {prompt} surreal, ethereal, dreamy, mysterious, fantasy, highly detailed",
            "Misc Dystopian": "dystopian style {prompt} bleak, post-apocalyptic, somber, dramatic, highly detailed",
            "Misc Fairy Tale": "fairy tale {prompt} magical, fantastical, enchanting, storybook style, highly detailed",
            "Misc Gothic": "gothic style {prompt} dark, mysterious, haunting, dramatic, ornate, detailed",
            "Misc Grunge": "grunge style {prompt} textured, distressed, vintage, edgy, punk rock vibe, dirty, noisy",
            "Misc Horror": "horror-themed {prompt} eerie, unsettling, dark, spooky, suspenseful, grim, highly detailed",
            "Misc Kawaii": "kawaii style {prompt} cute, adorable, brightly colored, cheerful, anime influence, highly detailed",
            "Misc Lovecraftian": "lovecraftian horror {prompt} eldritch, cosmic horror, unknown, mysterious, surreal, highly detailed",
            "Misc Macabre": "macabre style {prompt} dark, gothic, grim, haunting, highly detailed",
            "Misc Manga": "manga style {prompt} vibrant, high-energy, detailed, iconic, Japanese comic style",
            "Misc Metropolis": "metropolis-themed {prompt} urban, cityscape, skyscrapers, modern, futuristic, highly detailed",
            "Misc Minimalist": "minimalist style {prompt} simple, clean, uncluttered, modern, elegant",
            "Misc Monochrome": "monochrome {prompt} black and white, contrast, tone, texture, detailed",
            "Misc Nautical": "nautical-themed {prompt} sea, ocean, ships, maritime, beach, marine life, highly detailed",
            "Misc Space": "space-themed {prompt} cosmic, celestial, stars, galaxies, nebulas, planets, science fiction, highly detailed",
            "Misc Stained Glass": "stained glass style {prompt} vibrant, beautiful, translucent, intricate, detailed",
            "Misc Techwear Fashion": "techwear fashion {prompt} futuristic, cyberpunk, urban, tactical, sleek, dark, highly detailed",
            "Misc Tribal": "tribal style {prompt} indigenous, ethnic, traditional patterns, bold, natural colors, highly detailed",
            "Misc Zentangle": "zentangle {prompt} intricate, abstract, monochrome, patterns, meditative, highly detailed",
            "Papercraft Collage": "collage style {prompt} mixed media, layered, textural, detailed, artistic",
            "Papercraft Flat Papercut": "flat papercut style {prompt} silhouette, clean cuts, paper, sharp edges, minimalist, color block",
            "Papercraft Kirigami": "kirigami representation of {prompt} 3D, paper folding, paper cutting, Japanese, intricate, symmetrical, precision, clean lines",
            "Papercraft Paper Mache": "paper mache representation of {prompt} 3D, sculptural, textured, handmade, vibrant, fun",
            "Papercraft Paper Quilling": "paper quilling art of {prompt} intricate, delicate, curling, rolling, shaping, coiling, loops, 3D, dimensional, ornamental",
            "Papercraft Papercut Collage": "papercut collage of {prompt} mixed media, textured paper, overlapping, asymmetrical, abstract, vibrant",
            "Papercraft Papercut Shadow Box": "3D papercut shadow box of {prompt} layered, dimensional, depth, silhouette, shadow, papercut, handmade, high contrast",
            "Papercraft Stacked Papercut": "stacked papercut art of {prompt} 3D, layered, dimensional, depth, precision cut, stacked layers, papercut, high contrast",
            "Papercraft Thick Layered Papercut": "thick layered papercut art of {prompt} deep 3D, volumetric, dimensional, depth, thick paper, high stack, heavy texture, tangible layers",
            "Photo Alien": "alien-themed {prompt} extraterrestrial, cosmic, otherworldly, mysterious, sci-fi, highly detailed",
            "Photo Film Noir": "film noir style {prompt} monochrome, high contrast, dramatic shadows, 1940s style, mysterious, cinematic",
            "Photo Glamour": "glamorous photo {prompt} high fashion, luxurious, extravagant, stylish, sensual, opulent, elegance, stunning beauty, professional, high contrast, detailed",
            "Photo Hdr": "HDR photo of {prompt} High dynamic range, vivid, rich details, clear shadows and highlights, realistic, intense, enhanced contrast, highly detailed",
            "Photo Iphone Photographic": "iphone photo {prompt} large depth of field, deep depth of field, highly detailed",
            "Photo Long Exposure": "long exposure photo of {prompt} Blurred motion, streaks of light, surreal, dreamy, ghosting effect, highly detailed",
            "Photo Neon Noir": "neon noir {prompt} cyberpunk, dark, rainy streets, neon signs, high contrast, low light, vibrant, highly detailed",
            "Photo Silhouette": "silhouette style {prompt} high contrast, minimalistic, black and white, stark, dramatic",
            "Photo Tilt Shift": "tilt-shift photo of {prompt} selective focus, miniature effect, blurred background, highly detailed, vibrant, perspective control"
        };

        const styleTranslations = {
            "3D Model": "3D –ú–æ–¥–µ–ª—å",
            "Analog Film": "–ê–Ω–∞–ª–æ–≥–æ–≤–∞—è –ø–ª—ë–Ω–∫–∞",
            "Anime": "–ê–Ω–∏–º–µ",
            "Cinematic": "–ö–∏–Ω–µ–º–∞—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π",
            "Comic Book": "–ö–æ–º–∏–∫—Å",
            "Craft Clay": "–õ–µ–ø–∫–∞ –∏–∑ –≥–ª–∏–Ω—ã",
            "Digital Art": "–¶–∏—Ñ—Ä–æ–≤–æ–µ –∏—Å–∫—É—Å—Å—Ç–≤–æ",
            "Enhance": "–£–ª—É—á—à–µ–Ω–Ω—ã–π",
            "Fantasy Art": "–§—ç–Ω—Ç–µ–∑–∏ –∞—Ä—Ç",
            "Isometric": "–ò–∑–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏–π",
            "Line Art": "–õ–∏–Ω–µ–π–Ω—ã–π –∞—Ä—Ç",
            "Lowpoly": "–ù–∏–∑–∫–æ–ø–æ–ª–∏–≥–æ–Ω–∞–ª—å–Ω—ã–π",
            "Neonpunk": "–ù–µ–æ–Ω–ø–∞–Ω–∫",
            "Origami": "–û—Ä–∏–≥–∞–º–∏",
            "Photographic": "–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π",
            "Pixel Art": "–ü–∏–∫—Å–µ–ª—å-–∞—Ä—Ç",
            "Texture": "–¢–µ–∫—Å—Ç—É—Ä–∞",
            "Ads Advertising": "–†–µ–∫–ª–∞–º–Ω—ã–π –ø–ª–∞–∫–∞—Ç",
            "Ads Automotive": "–ê–≤—Ç–æ–º–æ–±–∏–ª—å–Ω–∞—è —Ä–µ–∫–ª–∞–º–∞",
            "Ads Corporate": "–ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π —Å—Ç–∏–ª—å",
            "Ads Fashion Editorial": "–ú–æ–¥–Ω–∞—è —Ä–µ–¥–∞–∫—Ü–∏–æ–Ω–Ω–∞—è —Å—Ç–∞—Ç—å—è",
            "Ads Food Photography": "–§—É–¥-—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è",
            "Ads Gourmet Food Photography": "–ò–∑—ã—Å–∫–∞–Ω–Ω–∞—è —Ñ—É–¥-—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è",
            "Ads Luxury": "–†–µ–∫–ª–∞–º–∞ –∫–ª–∞—Å—Å–∞ –ª—é–∫—Å",
            "Ads Real Estate": "–§–æ—Ç–æ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏",
            "Ads Retail": "–†–æ–∑–Ω–∏—á–Ω–∞—è —É–ø–∞–∫–æ–≤–∫–∞",
            "Artstyle Abstract": "–ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π —Å—Ç–∏–ª—å",
            "Artstyle Abstract Expressionism": "–ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π —ç–∫—Å–ø—Ä–µ—Å—Å–∏–æ–Ω–∏–∑–º",
            "Artstyle Art Deco": "–ê—Ä—Ç-–î–µ–∫–æ",
            "Artstyle Art Nouveau": "–ê—Ä—Ç-–ù—É–≤–æ",
            "Artstyle Constructivist": "–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤–∏–∑–º",
            "Artstyle Cubist": "–ö—É–±–∏–∑–º",
            "Artstyle Expressionist": "–≠–∫—Å–ø—Ä–µ—Å—Å–∏–æ–Ω–∏–∑–º",
            "Artstyle Graffiti": "–ì—Ä–∞—Ñ—Ñ–∏—Ç–∏",
            "Artstyle Hyperrealism": "–ì–∏–ø–µ—Ä—Ä–µ–∞–ª–∏–∑–º",
            "Artstyle Impressionist": "–ò–º–ø—Ä–µ—Å—Å–∏–æ–Ω–∏–∑–º",
            "Artstyle Pointillism": "–ü—É–∞–Ω—Ç–∏–ª–∏–∑–º",
            "Artstyle Pop Art": "–ü–æ–ø-–∞—Ä—Ç",
            "Artstyle Psychedelic": "–ü—Å–∏—Ö–æ–¥–µ–ª–∏—á–µ—Å–∫–∏–π",
            "Artstyle Renaissance": "–†–µ–Ω–µ—Å—Å–∞–Ω—Å",
            "Artstyle Steampunk": "–°—Ç–∏–º–ø–∞–Ω–∫",
            "Artstyle Surrealist": "–°—é—Ä—Ä–µ–∞–ª–∏–∑–º",
            "Artstyle Typography": "–¢–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∞",
            "Artstyle Watercolor": "–ê–∫–≤–∞—Ä–µ–ª—å",
            "Futuristic Biomechanical": "–ë–∏–æ–º–µ—Ö–∞–Ω–∏—á–µ—Å–∫–∏–π",
            "Futuristic Biomechanical Cyberpunk": "–ë–∏–æ–º–µ—Ö–∞–Ω–∏—á–µ—Å–∫–∏–π –∫–∏–±–µ—Ä–ø–∞–Ω–∫",
            "Futuristic Cybernetic": "–ö–∏–±–µ—Ä–Ω–µ—Ç–∏—á–µ—Å–∫–∏–π",
            "Futuristic Cybernetic Robot": "–ö–∏–±–µ—Ä–Ω–µ—Ç–∏—á–µ—Å–∫–∏–π —Ä–æ–±–æ—Ç",
            "Futuristic Cyberpunk Cityscape": "–ö–∏–±–µ—Ä–ø–∞–Ω–∫-–ø–µ–π–∑–∞–∂",
            "Futuristic Futuristic": "–§—É—Ç—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏–π",
            "Futuristic Retro Cyberpunk": "–†–µ—Ç—Ä–æ-–∫–∏–±–µ—Ä–ø–∞–Ω–∫",
            "Futuristic Retro Futurism": "–†–µ—Ç—Ä–æ-—Ñ—É—Ç—É—Ä–∏–∑–º",
            "Futuristic Sci Fi": "–ù–∞—É—á–Ω–∞—è —Ñ–∞–Ω—Ç–∞—Å—Ç–∏–∫–∞",
            "Futuristic Vaporwave": "–í—ç–π–ø–æ—Ä–≤–µ–π–≤",
            "Game Bubble Bobble": "–°—Ç–∏–ª—å Bubble Bobble",
            "Game Cyberpunk Game": "–°—Ç–∏–ª—å –∫–∏–±–µ—Ä–ø–∞–Ω–∫ –∏–≥—Ä—ã",
            "Game Fighting Game": "–°—Ç–∏–ª—å —Ñ–∞–π—Ç–∏–Ω–≥–∞",
            "Game Gta": "–°—Ç–∏–ª—å GTA",
            "Game Mario": "–°—Ç–∏–ª—å –°—É–ø–µ—Ä –ú–∞—Ä–∏–æ",
            "Game Minecraft": "–°—Ç–∏–ª—å –ú–∞–π–Ω–∫—Ä–∞—Ñ—Ç",
            "Game Pokemon": "–°—Ç–∏–ª—å –ü–æ–∫–µ–º–æ–Ω",
            "Game Retro Arcade": "–°—Ç–∏–ª—å —Ä–µ—Ç—Ä–æ –∞—Ä–∫–∞–¥—ã",
            "Game Retro Game": "–°—Ç–∏–ª—å —Ä–µ—Ç—Ä–æ –∏–≥—Ä—ã",
            "Game RPG Fantasy Game": "–°—Ç–∏–ª—å —Ñ—ç–Ω—Ç–µ–∑–∏ RPG",
            "Game Strategy Game": "–°—Ç–∏–ª—å —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏",
            "Game Streetfighter": "–°—Ç–∏–ª—å –°—Ç—Ä–∏—Ç—Ñ–∞–π—Ç–µ—Ä",
            "Game Zelda": "–°—Ç–∏–ª—å –ó–µ–ª—å–¥–∞",
            "Misc Architectural": "–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π",
            "Misc Disco": "–î–∏—Å–∫–æ",
            "Misc Dreamscape": "–ú–∏—Ä —Å–Ω–æ–≤",
            "Misc Dystopian": "–î–∏—Å—Ç–æ–ø–∏—á–µ—Å–∫–∏–π",
            "Misc Fairy Tale": "–°–∫–∞–∑–æ—á–Ω—ã–π",
            "Misc Gothic": "–ì–æ—Ç–∏—á–µ—Å–∫–∏–π",
            "Misc Grunge": "–ì—Ä–∞–Ω–∂",
            "Misc Horror": "–£–∂–∞—Å—ã",
            "Misc Kawaii": "–ö–∞–≤–∞–π–Ω—ã–π",
            "Misc Lovecraftian": "–õ–∞–≤–∫—Ä–∞—Ñ—Ç–æ–≤—Å–∫–∏–π",
            "Misc Macabre": "–ú–∞–∫–∞–±—Ä–∏—á–µ—Å–∫–∏–π",
            "Misc Manga": "–ú–∞–Ω–≥–∞",
            "Misc Metropolis": "–ú–µ—Ç—Ä–æ–ø–æ–ª–∏—Å",
            "Misc Minimalist": "–ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π",
            "Misc Monochrome": "–ú–æ–Ω–æ—Ö—Ä–æ–º–Ω—ã–π",
            "Misc Nautical": "–ú–æ—Ä—Å–∫–æ–π",
            "Misc Space": "–ö–æ—Å–º–∏—á–µ—Å–∫–∏–π",
            "Misc Stained Glass": "–í–∏—Ç—Ä–∞–∂",
            "Misc Techwear Fashion": "–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –º–æ–¥–∞",
            "Misc Tribal": "–ü–ª–µ–º–µ–Ω–Ω–æ–π",
            "Misc Zentangle": "–ó–µ–Ω—Ç–∞–Ω–≥–ª",
            "Papercraft Collage": "–ö–æ–ª–ª–∞–∂ –∏–∑ –±—É–º–∞–≥–∏",
            "Papercraft Flat Papercut": "–ü–ª–æ—Å–∫–∞—è –≤—ã—Ä–µ–∑–∫–∞ –∏–∑ –±—É–º–∞–≥–∏",
            "Papercraft Kirigami": "–ö–∏—Ä–∏–≥–∞–º–∏",
            "Papercraft Paper Mache": "–ü–∞–ø—å–µ-–º–∞—à–µ",
            "Papercraft Paper Quilling": "–ë—É–º–∞–∂–Ω—ã–π –∫–≤–∏–ª–ª–∏–Ω–≥",
            "Papercraft Papercut Collage": "–ö–æ–ª–ª–∞–∂ –∏–∑ –±—É–º–∞–∂–Ω—ã—Ö –≤—ã—Ä–µ–∑–æ–∫",
            "Papercraft Papercut Shadow Box": "–¢–µ–Ω–µ–≤–∞—è –∫–æ—Ä–æ–±–∫–∞ –∏–∑ –±—É–º–∞–≥–∏",
            "Papercraft Stacked Papercut": "–ú–Ω–æ–≥–æ—Å–ª–æ–π–Ω–∞—è –≤—ã—Ä–µ–∑–∫–∞ –∏–∑ –±—É–º–∞–≥–∏",
            "Papercraft Thick Layered Papercut": "–¢–æ–ª—Å—Ç–æ—Å–ª–æ–π–Ω–∞—è –≤—ã—Ä–µ–∑–∫–∞ –∏–∑ –±—É–º–∞–≥–∏",
            "Photo Alien": "–ß—É–∂–æ–π",
            "Photo Film Noir": "–§–∏–ª—å–º –ù—É–∞—Ä",
            "Photo Glamour": "–ì–ª–∞–º—É—Ä",
            "Photo Hdr": "HDR –§–æ—Ç–æ",
            "Photo Iphone Photographic": "–§–æ—Ç–æ –Ω–∞ –∞–π—Ñ–æ–Ω",
            "Photo Long Exposure": "–î–ª–∏–Ω–Ω–∞—è –≤—ã–¥–µ—Ä–∂–∫–∞",
            "Photo Neon Noir": "–ù–µ–æ–Ω–æ–≤—ã–π –ù—É–∞—Ä",
            "Photo Silhouette": "–°–∏–ª—É—ç—Ç",
            "Photo Tilt Shift": "–¢–∏–ª—Ç-—à–∏—Ñ—Ç"
        };


        const artisticTemplates = {
            "in the style of Van Gogh": "in the style of Van Gogh, impasto brushstrokes, swirling skies, vivid color contrasts, expressive and emotional",
            "inspired by Hayao Miyazaki": "inspired by Hayao Miyazaki, Studio Ghibli aesthetic, soft pastel tones, whimsical and serene, detailed natural environments, gentle characters",
            "Greg Rutkowski concept art": "Greg Rutkowski concept art, epic fantasy, dramatic lighting, painterly, highly detailed, vibrant colors, dynamic composition",
            "Beeple digital art": "Beeple digital art, futuristic, surreal, glitch effects, vibrant neon palette, cyberpunk, chaotic yet detailed",
            "Moebius illustration": "Moebius illustration, clean linework, surreal landscapes, imaginative sci-fi, intricate details, dreamlike atmosphere",
            "Zdzis≈Çaw Beksi≈Ñski surrealism": "Zdzis≈Çaw Beksi≈Ñski surrealism, dystopian, apocalyptic, hauntingly beautiful, surreal architecture, desolate mood, monochromatic with red accents",
            "Artgerm portrait": "Artgerm portrait, dynamic female character, vibrant colors, comic book realism, stylized anatomy, dramatic pose",
            "in the style of Albert Bierstadt": "in the style of Albert Bierstadt, grand romantic landscapes, dramatic mountain scenery, luminous skies, sublime nature, detailed realism",
            "in the style of John Singer Sargent": "in the style of John Singer Sargent, elegant portraits, loose brushwork, sophisticated compositions, masterful handling of light and fabric",
            "in the style of Rembrandt": "in the style of Rembrandt, dramatic chiaroscuro, golden light, emotional depth, textured brushstrokes, old master technique",
            "in the style of Alphonse Mucha": "in the style of Alphonse Mucha, Art Nouveau elegance, flowing hair, decorative elements, subtle colors, feminine beauty",
            "in the style of H.R. Giger": "in the style of H.R. Giger, biomechanical horror, surreal machinery, organic metal, dark eroticism, xenomorphic forms",
            "in the style of Caspar David Friedrich": "in the style of Caspar David Friedrich, romantic landscapes, solitary figures, sublime nature, symbolic composition, melancholic mood",
            "in the style of Wassily Kandinsky": "in the style of Wassily Kandinsky, abstract expressionism, geometric forms, vibrant colors, spiritual abstraction, musical composition",
            "in the style of Ross Tran (RossDraws)": "in the style of RossDraws, vibrant digital art, expressive characters, dynamic lighting, fantasy elements, emotional storytelling",
            "in the style of Loish (Lois van Baarle)": "in the style of Loish, flowing organic forms, warm color palettes, expressive female characters, soft digital painting",
            "in the style of WLOP": "in the style of WLOP, ethereal digital portraits, delicate brushwork, fantasy atmosphere, subtle textures, romantic lighting",
            "in the style of James Jean": "in the style of James Jean, intricate linework, surreal narratives, organic patterns, mixed media aesthetic, dreamlike compositions",
            "in the style of Sakimichan": "in the style of Sakimichan, polished digital rendering, popular character portraits, vibrant colors, professional finish",
            "in the style of Krenz Cushart": "in the style of Krenz Cushart, dynamic anatomy, strong perspective, anime-inspired characters, educational approach to digital art",
            "in the style of Ilya Kuvshinov": "in the style of Ilya Kuvshinov, soft digital painting, melancholic anime characters, atmospheric lighting, emotional expressions",
            "in the style of John Harris": "in the style of John Harris, epic sci-fi landscapes, vast cosmic vistas, impressionistic space art, scale and wonder",
            "in the style of J.C. Leyendecker": "in the style of J.C. Leyendecker, bold graphic illustration, crisp folds in clothing, dramatic lighting, iconic American illustration",
            "in the style of Frank Frazetta": "in the style of Frank Frazetta, dynamic fantasy art, muscular anatomy, dramatic composition, raw energy, iconic sword and sorcery",
            "in the style of Victo Ngai": "in the style of Victo Ngai, intricate graphic illustration, pattern-based designs, sophisticated color palettes, editorial fantasy art",
            "in the style of Ruan Jia": "in the style of Ruan Jia, hyper-detailed fantasy art, realistic rendering, atmospheric lighting, professional concept art quality",
            "in the style of Android Jones": "in the style of Android Jones, visionary digital art, psychedelic patterns, intricate details, consciousness-expanding imagery",
            "in the style of Peter Mohrbacher": "in the style ...(truncated 4939 characters)...s, uncanny valley",
            "serene": "serene landscape, calm water, soft morning light, harmonious composition, peaceful mood",
            "chaotic": "chaotic energy, dynamic motion, clashing colors, fragmented forms, high intensity",
            "mystical": "mystical aura, glowing particles, ancient symbols, otherworldly light, sacred geometry",
            "nostalgic": "nostalgic feel, warm sepia tones, vintage texture, soft focus, remembrance of childhood",
            "teal and orange palette": "teal and orange color grading, cinematic contrast, complementary colors, vibrant yet balanced",
            "monochromatic crimson": "monochromatic crimson palette, deep red tones, dramatic shadows, intense mood",
            "pastel sunset colors": "pastel sunset colors, soft pinks, lavenders, and golds, dreamy gradient, gentle light",
            "cyberpunk neon palette": "cyberpunk neon palette, electric blues, pinks, and purples, high contrast, glowing signs",
            "earth-tone palette": "earth-tone palette, ochres, umbers, and greens, natural harmony, organic textures",
            "vintage film color grading": "vintage film color grading, faded tones, subtle grain, nostalgic warmth, soft highlights",
            "oil painting texture": "oil painting texture, visible brushstrokes, rich impasto, luminous glazes, classical technique",
            "watercolor wash": "watercolor wash, soft bleeding edges, translucent layers, delicate pigments, fluid motion",
            "charcoal sketch": "charcoal sketch, expressive lines, smudged shadows, raw and tactile, monochrome depth",
            "ink line art": "ink line art, precise contours, black and white contrast, graphic novel style, clean and bold",
            "glazed ceramic texture": "glazed ceramic texture, smooth glossy surface, reflective highlights, artisanal craft",
            "film grain overlay": "film grain overlay, analog texture, subtle noise, cinematic authenticity, nostalgic feel",
            "matte painting": "matte painting, painted environment, seamless backdrop, cinematic scale, atmospheric perspective",
            "rule of thirds": "rule of thirds composition, balanced framing, visual tension, professional layout",
            "Dutch angle": "Dutch angle, tilted horizon, dynamic unease, dramatic perspective, cinematic tension",
            "extreme close-up": "extreme close-up, intimate detail, shallow depth of field, emotional intensity",
            "wide-angle lens": "wide-angle lens, expansive view, exaggerated perspective, immersive environment",
            "symmetrical composition": "symmetrical composition, perfect balance, architectural precision, formal elegance",
            "Baroque": "Baroque style, dramatic chiaroscuro, ornate details, rich fabrics, emotional intensity, grandeur",
            "Cyberpunk": "cyberpunk aesthetic, neon-lit streets, rain-slicked pavement, dystopian future, high-tech low-life",
            "Cottagecore": "cottagecore aesthetic, rustic simplicity, floral prints, warm hearth, pastoral idyll, handmade charm",
            "Dark Fantasy": "dark fantasy, gothic architecture, shadowy creatures, melancholic hero, ominous mood, rich textures",
            "Ukiyo-e": "Ukiyo-e woodblock print, flat planes of color, bold outlines, traditional Japanese motifs, wave or mountain backdrop",
            "Synthwave": "synthwave style, 80s retro-futurism, sunset grid, palm trees, neon grid, nostalgic sci-fi",
            "Steampunk": "steampunk design, brass gears, leather straps, Victorian fashion, steam-powered machinery, industrial elegance",
            "Gothic Blue and Black": "gothic blue and black palette, deep midnight blue, charcoal black, dramatic, mysterious, moody, high contrast",
            "Forest Green and Gold": "forest green and gold palette, rich emerald, moss green, shimmering gold accents, lush, luxurious, nature-inspired",
            "Desert Sunset": "desert sunset palette, fiery oranges, deep reds, soft purples, dusty yellows, gradient, warm, expansive",
            "Oceanic Blues and Greens": "oceanic blues and greens palette, turquoise, aquamarine, deep sea blue, kelp green, tranquil, refreshing, aquatic",
            "Lavender and Grey": "lavender and grey palette, soft lavender, ash grey, hints of silver, elegant, calm, sophisticated",
            "Crimson and Gold": "crimson and gold palette, rich crimson, antique gold, luxurious, regal, dramatic, opulent",
            "Emerald and Copper": "emerald and copper palette, deep emerald green, burnished copper, earthy, rich, industrial yet natural",
            "Sapphire and Silver": "sapphire and silver palette, deep sapphire blue, gleaming silver, elegant, cool, jewel-toned, refined",
            "Ruby and Charcoal": "ruby and charcoal palette, deep ruby red, dark charcoal grey, bold, sophisticated, intense",
            "Amethyst and Bronze": "amethyst and bronze palette, rich purple amethyst, warm bronze, mystical, earthy, ancient",
            "Autumn Foliage": "autumn foliage palette, fiery reds, deep oranges, golden yellows, rustic browns, warm, vibrant, natural",
            "Spring Blossom": "spring blossom palette, soft pinks, light greens, creamy whites, delicate, fresh, natural, airy",
            "Winter Wonderland": "winter wonderland palette, icy blues, pure whites, frosty silvers, cool, sparkling, ethereal",
            "Tropical Paradise": "tropical paradise palette, vivid fuchsia, electric blue, sunny yellow, lush green, vibrant, energetic, exotic",
            "Rustic Farmhouse": "rustic farmhouse palette, muted creams, warm browns, faded blues, distressed textures, cozy, earthy, vintage",
            "Art Deco Glam": "art deco glam palette, metallic golds, deep blacks, geometric patterns, sleek, luxurious, elegant",
            "Industrial Chic": "industrial chic palette, concrete greys, exposed brick reds, metallic accents, raw, urban, modern",
            "Bohemian Rhapsody": "bohemian rhapsody palette, earthy browns, deep reds, mustard yellows, turquoise accents, free-spirited, rich texture, eclectic",
            "Vaporwave Sunset": "vaporwave sunset palette, electric pinks, vibrant purples, glowing blues, retro gradient, nostalgic, synthetic",
            "Steampunk Sepia": "steampunk sepia palette, warm sepia tones, brassy accents, clockwork browns, vintage, mechanical, aged",
            "Nordic Winter": "nordic winter palette, cool blues, stark whites, wooden browns, minimalist, calm, natural, serene",
            "Japanese Zen": "Japanese Zen palette, subtle greys, natural wood tones, muted greens, minimalist, peaceful, harmonious",
            "Egyptian Gold": "Egyptian gold palette, royal blues, rich golds, sandy yellows, ancient, luxurious, mystical",
            "Chinese Ink Wash": "Chinese ink wash palette, monochrome greys, deep blacks, subtle blues, ethereal, traditional, flowing",
            "Indian Spice": "Indian spice palette, rich turmeric yellow, fiery saffron, deep maroon, vibrant, exotic, warm",
            "Mediterranean Coast": "Mediterranean coast palette, azure blues, terracotta oranges, whitewashed walls, sunny, fresh, inviting",
            "Cyberpunk Dystopia": "cyberpunk dystopia palette, dark greys, deep reds, electric blues, gritty, high contrast, urban decay",
            "Whimsical Forest": "whimsical forest palette, moss greens, fairy purples, soft browns, magical, enchanting, dreamlike",
            "Cosmic Dust": "cosmic dust palette, deep space purples, shimmering blues, stardust golds, ethereal, mysterious, celestial",
            "Deep Sea Glimmer": "deep sea glimmer palette, abyssal blacks, bioluminescent greens, electric blues, mysterious, dark, glowing",
            "Pencil Drawing": "pencil drawing, graphite sketch, detailed shading, textured paper, monochrome, hand-drawn, realistic sketch, fine lines",
            "Ink Drawing": "ink drawing, bold lines, cross-hatching, contrast, traditional illustration, black and white, pen work, detailed linework",
            "Pen and Watercolor Painting": "pen and watercolor painting, ink outlines, watercolor wash, mixed media, fluid colors, artistic blend, sketchy, vibrant",
            "Oil Painting": "oil painting, thick brushstrokes, rich colors, canvas texture, classical technique, luminous, layered paint, fine art",
            "Risograph Print": "risograph print, vibrant colors, grainy texture, layered printing, vintage aesthetic, bold graphics, limited color palette",
            "Impasto Painting": "impasto painting, thick paint texture, raised brushstrokes, three-dimensional surface, expressive, heavy texture, sculptural paint",
            "Palette Knife Oil Painting": "palette knife oil painting, bold strokes, thick texture, dramatic, expressive, chunky paint application, modern technique",
            "Chiaroscuro Painting": "chiaroscuro painting, dramatic light and shadow, high contrast, tenebrism, Renaissance technique, volumetric lighting, theatrical",
            "Comic Character": "comic character, bold outlines, vibrant colors, dynamic pose, graphic novel style, superhero aesthetic, action-packed",
            "Pixel Art": "pixel art, 8-bit graphics, retro gaming style, pixelated, limited color palette, nostalgic, digital sprite",
            "Vector Graphic": "vector graphic, clean lines, flat colors, scalable illustration, modern design, geometric shapes, digital art, smooth curves"
        };


        const artisticTranslations = {
            "in the style of Van Gogh": "–í —Å—Ç–∏–ª–µ –í–∞–Ω –ì–æ–≥–∞",
            "inspired by Hayao Miyazaki": "–í–¥–æ—Ö–Ω–æ–≤–ª–µ–Ω–æ –•–∞—è–æ –ú–∏—è–¥–∑–∞–∫–∏",
            "Greg Rutkowski concept art": "–ö–æ–Ω—Ü–µ–ø—Ç-–∞—Ä—Ç –ì—Ä–µ–≥–∞ –†—É—Ç–∫–æ–≤—Å–∫–∏",
            "Beeple digital art": "–¶–∏—Ñ—Ä–æ–≤–æ–µ –∏—Å–∫—É—Å—Å—Ç–≤–æ Beeple",
            "Moebius illustration": "–ò–ª–ª—é—Å—Ç—Ä–∞—Ü–∏—è –ú—ë–±–∏—É—Å–∞",
            "Zdzis≈Çaw Beksi≈Ñski surrealism": "–°—é—Ä—Ä–µ–∞–ª–∏–∑–º –ó–¥–∑–∏—Å–ª–∞–≤–∞ –ë–µ–∫—Å–∏–Ω—Å–∫–æ–≥–æ",
            "Artgerm portrait": "–ü–æ—Ä—Ç—Ä–µ—Ç –≤ —Å—Ç–∏–ª–µ Artgerm",
            "in the style of Albert Bierstadt": "–í —Å—Ç–∏–ª–µ –ê–ª—å–±–µ—Ä—Ç–∞ –ë–∏—Ä—à—Ç–∞–¥—Ç–∞",
            "in the style of John Singer Sargent": "–í —Å—Ç–∏–ª–µ –î–∂–æ–Ω–∞ –°–∏–Ω–≥–µ—Ä–∞ –°–∞—Ä–¥–∂–µ–Ω—Ç–∞",
            "in the style of Rembrandt": "–í —Å—Ç–∏–ª–µ –†–µ–º–±—Ä–∞–Ω–¥—Ç–∞",
            "in the style of Alphonse Mucha": "–í —Å—Ç–∏–ª–µ –ê–ª—å—Ñ–æ–Ω—Å–∞ –ú—É—Ö–∏",
            "in the style of H.R. Giger": "–í —Å—Ç–∏–ª–µ –ì.–†. –ì–∏–≥–µ—Ä–∞",
            "in the style of Caspar David Friedrich": "–í —Å—Ç–∏–ª–µ –ö–∞—Å–ø–∞—Ä–∞ –î–∞–≤–∏–¥–∞ –§—Ä–∏–¥—Ä–∏—Ö–∞",
            "in the style of Wassily Kandinsky": "–í —Å—Ç–∏–ª–µ –í–∞—Å–∏–ª–∏—è –ö–∞–Ω–¥–∏–Ω—Å–∫–æ–≥–æ",
            "in the style of Ross Tran (RossDraws)": "–í —Å—Ç–∏–ª–µ –†–æ—Å—Å–∞ –¢—Ä–∞–Ω–∞ (RossDraws)",
            "in the style of Loish (Lois van Baarle)": "–í —Å—Ç–∏–ª–µ –õ–æ–∏—à (–õ–æ–∏—Å –≤–∞–Ω –ë–∞–∞—Ä–ª–µ)",
            "in the style of WLOP": "–í —Å—Ç–∏–ª–µ WLOP",
            "in the style of James Jean": "–í —Å—Ç–∏–ª–µ –î–∂–µ–π–º—Å–∞ –î–∂–∏–Ω–∞",
            "in the style of Sakimichan": "–í —Å—Ç–∏–ª–µ –°–∞–∫–∏–º–∏—á–∞–Ω",
            "in the style of Krenz Cushart": "–í —Å—Ç–∏–ª–µ –ö—Ä–µ–Ω—Ü–∞ –ö—É—à–∞—Ä—Ç–∞",
            "in the style of Ilya Kuvshinov": "–í —Å—Ç–∏–ª–µ –ò–ª—å–∏ –ö—É–≤—à–∏–Ω–æ–≤–∞",
            "in the style of John Harris": "–í —Å—Ç–∏–ª–µ –î–∂–æ–Ω–∞ –•–∞—Ä—Ä–∏—Å–∞",
            "in the style of J.C. Leyendecker": "–í —Å—Ç–∏–ª–µ –î–∂.–ö. –õ–µ–π–µ–Ω–¥–µ–∫–µ—Ä–∞",
            "in the style of Frank Frazetta": "–í —Å—Ç–∏–ª–µ –§—Ä—ç–Ω–∫–∞ –§—Ä–∞–∑–µ—Ç—Ç—ã",
            "in the style of Victo Ngai": "–í —Å—Ç–∏–ª–µ –í–∏–∫—Ç–æ –ù–≥–∞–∏",
            "in the style of Ruan Jia": "–í —Å—Ç–∏–ª–µ –†—É–∞–Ω –¶–∑—è",
            "in the style of Android Jones": "–í —Å—Ç–∏–ª–µ –≠–Ω–¥—Ä—é –î–∂–æ–Ω—Å–∞",
            "in the style of Peter Mohrbacher": "–í —Å—Ç–∏–ª–µ –ü–∏—Ç–µ—Ä–∞ –ú–æ—Ä–±–∞—Ö–µ—Ä–∞",
            "in the style of Simon St√•lenhag": "–í —Å—Ç–∏–ª–µ –°–∏–º–æ–Ω–∞ –°—Ç–æ–ª–µ–Ω—Ö–∞–≥–∞",
            "in the style of Makoto Shinkai": "–í —Å—Ç–∏–ª–µ –ú–∞–∫–æ—Ç–æ –°–∏–Ω–∫–∞—è",
            "in the style of Katsuhiro Otomo (Akira style)": "–í —Å—Ç–∏–ª–µ –ö–∞—Ü—É—Ö–∏—Ä–æ –û—Ç–æ–º–æ (—Å—Ç–∏–ª—å –ê–∫–∏—Ä—ã)",
            "in the style of Hieronymus Bosch": "–í —Å—Ç–∏–ª–µ –ò–µ—Ä–æ–Ω–∏–º–∞ –ë–æ—Å—Ö–∞",
            "in the style of Sandro Botticelli": "–í —Å—Ç–∏–ª–µ –°–∞–Ω–¥—Ä–æ –ë–æ—Ç—Ç–∏—á–µ–ª–ª–∏",
            "in the style of Leonardo da Vinci": "–í —Å—Ç–∏–ª–µ –õ–µ–æ–Ω–∞—Ä–¥–æ –¥–∞ –í–∏–Ω—á–∏",
            "in the style of Albrecht D√ºrer": "–í —Å—Ç–∏–ª–µ –ê–ª—å–±—Ä–µ—Ö—Ç–∞ –î—é—Ä–µ—Ä–∞",
            "in the style of Pieter Bruegel the Elder": "–í —Å—Ç–∏–ª–µ –ü–∏—Ç–µ—Ä–∞ –ë—Ä–µ–π–≥–µ–ª—è –°—Ç–∞—Ä—à–µ–≥–æ",
            "in the style of El Greco": "–í —Å—Ç–∏–ª–µ –≠–ª—å –ì—Ä–µ–∫–æ",
            "in the style of Caravaggio": "–í —Å—Ç–∏–ª–µ –ö–∞—Ä–∞–≤–∞–¥–∂–æ",
            "in the style of Peter Paul Rubens": "–í —Å—Ç–∏–ª–µ –ü–∏—Ç–µ—Ä–∞ –ü–∞—É–ª—è –†—É–±–µ–Ω—Å–∞",
            "in the style of Rembrandt van Rijn": "–í —Å—Ç–∏–ª–µ –†–µ–º–±—Ä–∞–Ω–¥—Ç–∞ –≤–∞–Ω –†–µ–π–Ω–∞",
            "in the style of Johannes Vermeer": "–í —Å—Ç–∏–ª–µ –Ø–Ω–∞ –í–µ—Ä–º–µ–µ—Ä–∞",
            "in the style of Francisco Goya": "–í —Å—Ç–∏–ª–µ –§—Ä–∞–Ω—Å–∏—Å–∫–æ –ì–æ–π–∏",
            "in the style of William Turner": "–í —Å—Ç–∏–ª–µ –£–∏–ª—å—è–º–∞ –¢–µ—Ä–Ω–µ—Ä–∞",
            "in the style of John Constable": "–í —Å—Ç–∏–ª–µ –î–∂–æ–Ω–∞ –ö–æ–Ω—Å—Ç–µ–±–ª–∞",
            "in the style of Eug√®ne Delacroix": "–í —Å—Ç–∏–ª–µ –≠–∂–µ–Ω–∞ –î–µ–ª–∞–∫—Ä—É–∞",
            "in the style of Jean-Auguste-Dominique Ingres": "–í —Å—Ç–∏–ª–µ –ñ–∞–Ω–∞-–û–≥—é—Å—Ç–∞-–î–æ–º–∏–Ω–∏–∫–∞ –≠–Ω–≥—Ä–∞",
            "in the style of Gustave Courbet": "–í —Å—Ç–∏–ª–µ –ì—é—Å—Ç–∞–≤–∞ –ö—É—Ä–±–µ",
            "in the style of Camille Corot": "–í —Å—Ç–∏–ª–µ –ö–∞–º–∏–ª—è –ö–æ—Ä–æ",
            "in the style of Ivan Aivazovsky": "–í —Å—Ç–∏–ª–µ –ò–≤–∞–Ω–∞ –ê–π–≤–∞–∑–æ–≤—Å–∫–æ–≥–æ",
            "in the style of Dante Gabriel Rossetti": "–í —Å—Ç–∏–ª–µ –î–∞–Ω—Ç–µ –ì–∞–±—Ä–∏—ç–ª—è –†–æ—Å—Å–µ—Ç—Ç–∏",
            "in the style of Ivan Shishkin": "–í —Å—Ç–∏–ª–µ –ò–≤–∞–Ω–∞ –®–∏—à–∫–∏–Ω–∞",
            "dreamlike": "–°–Ω–æ–≤–∏–¥—á–µ—Å–∫–∏–π",
            "melancholic": "–ú–µ–ª–∞–Ω—Ö–æ–ª–∏—á–Ω—ã–π",
            "whimsical": "–ü—Ä–∏—á—É–¥–ª–∏–≤—ã–π",
            "eerie": "–ñ—É—Ç–∫–æ–≤–∞—Ç—ã–π",
            "serene": "–ë–µ–∑–º—è—Ç–µ–∂–Ω—ã–π",
            "chaotic": "–•–∞–æ—Ç–∏—á–Ω—ã–π",
            "mystical": "–ú–∏—Å—Ç–∏—á–µ—Å–∫–∏–π",
            "nostalgic": "–ù–æ—Å—Ç–∞–ª—å–≥–∏—á–µ—Å–∫–∏–π",
            "teal and orange palette": "–ü–∞–ª–∏—Ç—Ä–∞ –±–∏—Ä—é–∑–æ–≤–æ–≥–æ –∏ –æ—Ä–∞–Ω–∂–µ–≤–æ–≥–æ",
            "monochromatic crimson": "–ú–æ–Ω–æ—Ö—Ä–æ–º–Ω—ã–π –±–∞–≥—Ä—è–Ω—ã–π",
            "pastel sunset colors": "–ü–∞—Å—Ç–µ–ª—å–Ω—ã–µ —Ü–≤–µ—Ç–∞ –∑–∞–∫–∞—Ç–∞",
            "cyberpunk neon palette": "–ù–µ–æ–Ω–æ–≤–∞—è –ø–∞–ª–∏—Ç—Ä–∞ –∫–∏–±–µ—Ä–ø–∞–Ω–∫–∞",
            "earth-tone palette": "–ó–µ–º–ª—è–Ω–∞—è –ø–∞–ª–∏—Ç—Ä–∞",
            "vintage film color grading": "–í–∏–Ω—Ç–∞–∂–Ω–∞—è —Ü–≤–µ—Ç–æ–∫–æ—Ä—Ä–µ–∫—Ü–∏—è –ø–ª—ë–Ω–∫–∏",
            "oil painting texture": "–¢–µ–∫—Å—Ç—É—Ä–∞ –º–∞—Å–ª—è–Ω–æ–π –∂–∏–≤–æ–ø–∏—Å–∏",
            "watercolor wash": "–ê–∫–≤–∞—Ä–µ–ª—å–Ω–∞—è –∑–∞–ª–∏–≤–∫–∞",
            "charcoal sketch": "–£–≥–æ–ª—å–Ω—ã–π –Ω–∞–±—Ä–æ—Å–æ–∫",
            "ink line art": "–õ–∏–Ω–µ–π–Ω–∞—è –≥—Ä–∞—Ñ–∏–∫–∞ —Ç—É—à—å—é",
            "glazed ceramic texture": "–¢–µ–∫—Å—Ç—É—Ä–∞ –≥–ª–∞–∑—É—Ä–æ–≤–∞–Ω–Ω–æ–π –∫–µ—Ä–∞–º–∏–∫–∏",
            "film grain overlay": "–ù–∞–ª–æ–∂–µ–Ω–∏–µ –∑–µ—Ä–Ω–∏—Å—Ç–æ—Å—Ç–∏ –ø–ª—ë–Ω–∫–∏",
            "matte painting": "–ú–∞—Ç–æ–≤–∞—è –∂–∏–≤–æ–ø–∏—Å—å",
            "rule of thirds": "–ü—Ä–∞–≤–∏–ª–æ —Ç—Ä–µ—Ç–µ–π",
            "Dutch angle": "–ì–æ–ª–ª–∞–Ω–¥—Å–∫–∏–π —É–≥–æ–ª",
            "extreme close-up": "–ö—Ä—É–ø–Ω—ã–π –ø–ª–∞–Ω",
            "wide-angle lens": "–®–∏—Ä–æ–∫–æ—É–≥–æ–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç–∏–≤",
            "symmetrical composition": "–°–∏–º–º–µ—Ç—Ä–∏—á–Ω–∞—è –∫–æ–º–ø–æ–∑–∏—Ü–∏—è",
            "Baroque": "–ë–∞—Ä–æ–∫–∫–æ",
            "Cyberpunk": "–ö–∏–±–µ—Ä–ø–∞–Ω–∫",
            "Cottagecore": "–ö–æ—Ç—Ç–µ–¥–∂–∫–æ—Ä",
            "Dark Fantasy": "–¢—ë–º–Ω–æ–µ —Ñ—ç–Ω—Ç–µ–∑–∏",
            "Ukiyo-e": "–£–∫–∏—ë-—ç",
            "Synthwave": "–°–∏–Ω—Ç–≤–µ–π–≤",
            "Steampunk": "–°—Ç–∏–º–ø–∞–Ω–∫",
            "Gothic Blue and Black": "–ì–æ—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω–µ-—á—ë—Ä–Ω–∞—è",
            "Forest Green and Gold": "–õ–µ—Å–Ω–æ–π –∑–µ–ª—ë–Ω—ã–π –∏ –∑–æ–ª–æ—Ç–æ–π",
            "Desert Sunset": "–ó–∞–∫–∞—Ç –≤ –ø—É—Å—Ç—ã–Ω–µ",
            "Oceanic Blues and Greens": "–û–∫–µ–∞–Ω–∏—á–µ—Å–∫–∏–µ —Å–∏–Ω–∏–µ –∏ –∑–µ–ª—ë–Ω—ã–µ",
            "Lavender and Grey": "–õ–∞–≤–∞–Ω–¥–æ–≤—ã–π –∏ —Å–µ—Ä—ã–π",
            "Crimson and Gold": "–ú–∞–ª–∏–Ω–æ–≤—ã–π –∏ –∑–æ–ª–æ—Ç–æ–π",
            "Emerald and Copper": "–ò–∑—É–º—Ä—É–¥–Ω—ã–π –∏ –º–µ–¥–Ω—ã–π",
            "Sapphire and Silver": "–°–∞–ø—Ñ–∏—Ä–æ–≤—ã–π –∏ —Å–µ—Ä–µ–±—Ä—è–Ω—ã–π",
            "Ruby and Charcoal": "–†—É–±–∏–Ω–æ–≤—ã–π –∏ —É–≥–æ–ª—å–Ω—ã–π",
            "Amethyst and Bronze": "–ê–º–µ—Ç–∏—Å—Ç–æ–≤—ã–π –∏ –±—Ä–æ–Ω–∑–æ–≤—ã–π",
            "Autumn Foliage": "–û—Å–µ–Ω–Ω—è—è –ª–∏—Å—Ç–≤–∞",
            "Spring Blossom": "–í–µ—Å–µ–Ω–Ω–µ–µ —Ü–≤–µ—Ç–µ–Ω–∏–µ",
            "Winter Wonderland": "–ó–∏–º–Ω—è—è —Å–∫–∞–∑–∫–∞",
            "Tropical Paradise": "–¢—Ä–æ–ø–∏—á–µ—Å–∫–∏–π —Ä–∞–π",
            "Rustic Farmhouse": "–î–µ—Ä–µ–≤–µ–Ω—Å–∫–∏–π –¥–æ–º",
            "Art Deco Glam": "–ì–ª–∞–º—É—Ä –ê—Ä—Ç-–î–µ–∫–æ",
            "Industrial Chic": "–ò–Ω–¥—É—Å—Ç—Ä–∏–∞–ª—å–Ω—ã–π —à–∏–∫",
            "Bohemian Rhapsody": "–ë–æ–≥–µ–º–Ω–∞—è —Ä–∞–ø—Å–æ–¥–∏—è",
            "Vaporwave Sunset": "–ó–∞–∫–∞—Ç –≤ —Å—Ç–∏–ª–µ Vaporwave",
            "Steampunk Sepia": "–°–µ–ø–∏—è –°—Ç–∏–º–ø–∞–Ω–∫",
            "Nordic Winter": "–°–∫–∞–Ω–¥–∏–Ω–∞–≤—Å–∫–∞—è –∑–∏–º–∞",
            "Japanese Zen": "–Ø–ø–æ–Ω—Å–∫–∏–π –î–∑–µ–Ω",
            "Egyptian Gold": "–ï–≥–∏–ø–µ—Ç—Å–∫–æ–µ –∑–æ–ª–æ—Ç–æ",
            "Chinese Ink Wash": "–ö–∏—Ç–∞–π—Å–∫–∞—è —Ç—É—à—å",
            "Indian Spice": "–ò–Ω–¥–∏–π—Å–∫–∏–µ —Å–ø–µ—Ü–∏–∏",
            "Mediterranean Coast": "–°—Ä–µ–¥–∏–∑–µ–º–Ω–æ–º–æ—Ä—Å–∫–æ–µ –ø–æ–±–µ—Ä–µ–∂—å–µ",
            "Cyberpunk Dystopia": "–ö–∏–±–µ—Ä–ø–∞–Ω–∫ –î–∏—Å—Ç–æ–ø–∏—è",
            "Whimsical Forest": "–ü—Ä–∏—á—É–¥–ª–∏–≤—ã–π –ª–µ—Å",
            "Cosmic Dust": "–ö–æ—Å–º–∏—á–µ—Å–∫–∞—è –ø—ã–ª—å",
            "Deep Sea Glimmer": "–ú–µ—Ä—Ü–∞–Ω–∏–µ –≥–ª—É–±–æ–∫–æ–≥–æ –º–æ—Ä—è",
            "Pencil Drawing": "–†–∏—Å—É–Ω–æ–∫ –∫–∞—Ä–∞–Ω–¥–∞—à–æ–º",
            "Ink Drawing": "–†–∏—Å—É–Ω–æ–∫ —Ç—É—à—å—é",
            "Pen and Watercolor Painting": "–ü–µ—Ä–æ –∏ –∞–∫–≤–∞—Ä–µ–ª—å",
            "Oil Painting": "–ú–∞—Å–ª—è–Ω–∞—è –∂–∏–≤–æ–ø–∏—Å—å",
            "Risograph Print": "–†–∏–∑–æ–≥—Ä–∞—Ñ",
            "Impasto Painting": "–ò–º–ø–∞—Å—Ç–æ",
            "Palette Knife Oil Painting": "–ú–∞—Å–ª–æ –º–∞—Å—Ç–∏—Ö–∏–Ω–æ–º",
            "Chiaroscuro Painting": "–ö—å—è—Ä–æ—Å–∫—É—Ä–æ",
            "Comic Character": "–ö–æ–º–∏–∫—Å-–ø–µ—Ä—Å–æ–Ω–∞–∂",
            "Pixel Art": "–ü–∏–∫—Å–µ–ª—å-–∞—Ä—Ç",
            "Vector Graphic": "–í–µ–∫—Ç–æ—Ä–Ω–∞—è –≥—Ä–∞—Ñ–∏–∫–∞"
        };


        const styleCategories = {
            "–ë–∞–∑–æ–≤—ã–µ": ["none", "3D Model", "Anime", "Cinematic", "Digital Art", "Fantasy Art", "Photographic", "Pixel Art"],
            "–†–µ–∫–ª–∞–º–∞": [
                "Ads Advertising", "Ads Automotive", "Ads Corporate", "Ads Fashion Editorial",
                "Ads Food Photography", "Ads Gourmet Food Photography", "Ads Luxury", "Ads Real Estate", "Ads Retail"
            ],
            "–•—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å—Ç–∏–ª–∏": [
                "Artstyle Abstract", "Artstyle Art Deco", "Artstyle Art Nouveau", "Artstyle Constructivist",
                "Artstyle Cubist", "Artstyle Expressionist", "Artstyle Graffiti", "Artstyle Hyperrealism",
                "Artstyle Impressionist", "Artstyle Pointillism", "Artstyle Pop Art", "Artstyle Psychedelic",
                "Artstyle Renaissance", "Artstyle Steampunk", "Artstyle Surrealist", "Artstyle Watercolor"
            ],
            "–ò–≥—Ä–æ–≤—ã–µ": [
                "Game Bubble Bobble", "Game Cyberpunk Game", "Game Fighting Game", "Game Gta",
                "Game Mario", "Game Minecraft", "Game Pokemon", "Game Retro Arcade", "Game Zelda"
            ],
            "–§—É—Ç—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ": [
                "Futuristic Biomechanical", "Futuristic Cyberpunk", "Futuristic Sci Fi", "Futuristic Vaporwave"
            ],
            "–†–∞–∑–Ω–æ–µ": [
                "Misc Dreamscape", "Misc Dystopian", "Misc Fairy Tale", "Misc Gothic", "Misc Horror",
                "Misc Kawaii", "Misc Minimalist", "Misc Space", "Misc Stained Glass", "Line Art", "Lowpoly"
            ],
            "–ü–∞–ø–µ—Ä–∫—Ä–∞—Ñ—Ç": [
                "Papercraft Collage", "Papercraft Flat Papercut", "Papercraft Kirigami", "Papercraft Paper Mache",
                "Papercraft Paper Quilling", "Papercraft Papercut Collage", "Papercraft Papercut Shadow Box",
                "Papercraft Stacked Papercut", "Papercraft Thick Layered Papercut"
            ],
            "–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ": [
                "Photo Alien", "Photo Film Noir", "Photo Glamour", "Photo Hdr", "Photo Iphone Photographic",
                "Photo Long Exposure", "Photo Neon Noir", "Photo Silhouette", "Photo Tilt Shift"
            ]
        };


        const artisticCategories = {
            "–•—É–¥–æ–∂–Ω–∏–∫–∏": {
                "–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ü–∏—Ñ—Ä–æ–≤—ã–µ —Ö—É–¥–æ–∂–Ω–∏–∫–∏": {
                    "–ö–æ–Ω—Ü–µ–ø—Ç-–∞—Ä—Ç / –§—ç–Ω—Ç–µ–∑–∏": [
                        "Greg Rutkowski concept art", "Beeple digital art", "WLOP", "James Jean", "Sakimichan",
                        "Krenz Cushart", "Ilya Kuvshinov", "Ruan Jia", "Android Jones", "Peter Mohrbacher"
                    ],
                    "–ê–Ω–∏–º–µ / –ú–∞–Ω–≥–∞": [
                        "inspired by Hayao Miyazaki", "Artgerm portrait", "in the style of Ross Tran (RossDraws)",
                        "in the style of Loish (Lois van Baarle)", "in the style of Makoto Shinkai",
                        "in the style of Katsuhiro Otomo (Akira style)"
                    ],
                    "–ù–∞—É—á–Ω–∞—è —Ñ–∞–Ω—Ç–∞—Å—Ç–∏–∫–∞ / –§—É—Ç—É—Ä–∏–∑–º": [
                        "Moebius illustration", "in the style of H.R. Giger", "in the style of John Harris",
                        "in the style of Simon St√•lenhag"
                    ]
                },
                "–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–µ —Ö—É–¥–æ–∂–Ω–∏–∫–∏": {
                    "–í–æ–∑—Ä–æ–∂–¥–µ–Ω–∏–µ / –°–µ–≤–µ—Ä–Ω–æ–µ –í–æ–∑—Ä–æ–∂–¥–µ–Ω–∏–µ": [
                        "in the style of Hieronymus Bosch", "in the style of Sandro Botticelli", "in the style of Leonardo da Vinci",
                        "in the style of Albrecht D√ºrer", "in the style of Pieter Bruegel the Elder"
                    ],
                    "–ú–∞–Ω—å–µ—Ä–∏–∑–º / –ë–∞—Ä–æ–∫–∫–æ / –ì–æ–ª–ª–∞–Ω–¥—Å–∫–∏–π –ó–æ–ª–æ—Ç–æ–π –≤–µ–∫": [
                        "in the style of El Greco", "in the style of Caravaggio", "in the style of Peter Paul Rubens",
                        "in the style of Rembrandt van Rijn", "in the style of Johannes Vermeer"
                    ],
                    "–†–æ–º–∞–Ω—Ç–∏–∑–º / –†–µ–∞–ª–∏–∑–º": [
                        "in the style of Francisco Goya", "in the style of William Turner", "in the style of John Constable",
                        "in the style of Eug√®ne Delacroix", "in the style of Jean-Auguste-Dominique Ingres",
                        "in the style of Gustave Courbet", "in the style of Camille Corot", "in the style of Ivan Aivazovsky",
                        "in the style of Dante Gabriel Rossetti", "in the style of Ivan Shishkin",
                        "in the style of Albert Bierstadt", "in the style of Caspar David Friedrich"
                    ],
                    "–ò–º–ø—Ä–µ—Å—Å–∏–æ–Ω–∏–∑–º / –ü–æ—Å—Ç–∏–º–ø—Ä–µ—Å—Å–∏–æ–Ω–∏–∑–º / –ê—Ä—Ç –ù—É–≤–æ": [
                        "in the style of John Singer Sargent", "in the style of Van Gogh", "in the style of Alphonse Mucha",
                        "in the style of Wassily Kandinsky"
                    ],
                    "–ò–ª–ª—é—Å—Ç—Ä–∞—Ü–∏—è / –ó–æ–ª–æ—Ç–æ–π –≤–µ–∫ –∏–ª–ª—é—Å—Ç—Ä–∞—Ü–∏–∏": [
                        "in the style of J.C. Leyendecker", "in the style of Frank Frazetta", "in the style of Victo Ngai"
                    ],
                    "–°—é—Ä—Ä–µ–∞–ª–∏–∑–º": [
                        "Zdzis≈Çaw Beksi≈Ñski surrealism"
                    ]
                }
            },
            "–ê—Ç–º–æ—Å—Ñ–µ—Ä–∞": [
                "dreamlike", "melancholic", "whimsical", "eerie", "serene", "chaotic", "mystical", "nostalgic"
            ],
            "–¶–≤–µ—Ç–æ–≤—ã–µ –ø–∞–ª–∏—Ç—Ä—ã": [
                "teal and orange palette", "monochromatic crimson", "pastel sunset colors",
                "cyberpunk neon palette",
                "Gothic Blue and Black", "Forest Green and Gold", "Desert Sunset",
                "Oceanic Blues and Greens", "Lavender and Grey", "Crimson and Gold",
                "Emerald and Copper", "Sapphire and Silver", "Ruby and Charcoal",
                "Amethyst and Bronze", "Autumn Foliage", "Spring Blossom",
                "Winter Wonderland", "Tropical Paradise", "Rustic Farmhouse",
                "Art Deco Glam", "Industrial Chic", "Bohemian Rhapsody",
                "Vaporwave Sunset", "Steampunk Sepia", "Nordic Winter",
                "Japanese Zen", "Egyptian Gold", "Chinese Ink Wash",
                "Indian Spice", "Mediterranean Coast", "Cyberpunk Dystopia",
                "Whimsical Forest", "Cosmic Dust", "Deep Sea Glimmer"
            ],
            "–¢–µ—Ö–Ω–∏–∫–∏": [
                "oil painting texture", "watercolor wash", "charcoal sketch", "ink line art",
                "glazed ceramic texture", "film grain overlay", "matte painting"
            ,
                "Pencil Drawing", "Ink Drawing", "Pen and Watercolor Painting", "Oil Painting",
                "Risograph Print", "Impasto Painting", "Palette Knife Oil Painting", "Chiaroscuro Painting",
                "Comic Character", "Pixel Art", "Vector Graphic"
            ],
            "–ö–æ–º–ø–æ–∑–∏—Ü–∏—è": [
                "rule of thirds", "Dutch angle", "extreme close-up", "wide-angle lens", "symmetrical composition"
            ],
            "–ñ–∞–Ω—Ä—ã / –î–≤–∏–∂–µ–Ω–∏—è": [
                "Baroque", "Cyberpunk", "Cottagecore", "Dark Fantasy", "Ukiyo-e", "Synthwave", "Steampunk"
            ]
        };


        const allExamples = [
            "–ì–æ—Ä–æ–¥ –±—É–¥—É—â–µ–≥–æ –ø–æ–¥ –¥–æ–∂–¥—ë–º –Ω–æ—á—å—é",
            "–ü–æ—Ä—Ç—Ä–µ—Ç —Å—Ç–∞—Ä–æ–≥–æ –º–∞–≥–∞ —Å –ø–æ—Å–æ—Ö–æ–º",
            "–ü–æ–¥–≤–æ–¥–Ω—ã–π –≥–æ—Ä–æ–¥ –≤ –æ–∫–µ–∞–Ω–µ",
            "–†–æ–±–æ—Ç-—Å–∞–¥–æ–≤–Ω–∏–∫ –≤ —Ü–≤–µ—Ç—É—â–µ–º —Å–∞–¥—É",
            "–ó–∞–º–æ–∫ –Ω–∞ –æ–±–ª–∞–∫–µ –≤ –∑–∞–∫–∞—Ç–µ",
            "–ö–∏–±–µ—Ä–ø–∞–Ω–∫-—Ä—ã–Ω–æ–∫ –≤ –¢–æ–∫–∏–æ 2077",
            "–î—Ä–µ–≤–Ω–∏–π –¥—Ä–∞–∫–æ–Ω —Å–ø–∏—Ç –≤ –ø–µ—â–µ—Ä–µ —Å —Å–æ–∫—Ä–æ–≤–∏—â–∞–º–∏",
            "–ö–æ—Å–º–∏—á–µ—Å–∫–∏–π –ø—É—Ç–µ—à–µ—Å—Ç–≤–µ–Ω–Ω–∏–∫ –Ω–∞ –∫—Ä–∞—é —á—ë—Ä–Ω–æ–π –¥—ã—Ä—ã",
            "–í–µ–¥—å–º–∏–Ω –¥–æ–º–∏–∫ –≤ –∑–∏–º–Ω–µ–º –ª–µ—Å—É",
            "–ë–∏–æ–º–µ—Ö–∞–Ω–∏—á–µ—Å–∫–æ–µ —Å—É—â–µ—Å—Ç–≤–æ –≤ –ø—É—Å—Ç—ã–Ω–µ",
            "–°—Ç–∏–º–ø–∞–Ω–∫-–¥–∏—Ä–∏–∂–∞–±–ª—å –Ω–∞–¥ –õ–æ–Ω–¥–æ–Ω–æ–º",
            "–§–µ–Ω–∏–∫—Å –≤–æ—Å—Å—Ç–∞—ë—Ç –∏–∑ –ø–µ–ø–ª–∞ –Ω–∞ —Ä–∞—Å—Å–≤–µ—Ç–µ",
            "–¢–∞–Ω—Ü—É—é—â–∏–µ –æ–≥–æ–Ω—å–∫–∏ –≤ –∑–∞–±—Ä–æ—à–µ–Ω–Ω–æ–º —Ç–µ–∞—Ç—Ä–µ",
            "–ì–∏–≥–∞–Ω—Ç—Å–∫–∏–π –∫–æ—Ç –æ—Ö—Ä–∞–Ω—è–µ—Ç –≥–æ—Ä–æ–¥ –º–µ—á—Ç—ã",
            "–ö–æ—Å–º–∏—á–µ—Å–∫–∞—è –æ–ø–µ—Ä–∞: –±–∏—Ç–≤–∞ —É —Ç—É–º–∞–Ω–Ω–æ—Å—Ç–∏ –û—Ä–∏–æ–Ω–∞",
            "–°–∞–∫—É—Ä–∞ –≤ –ø–æ–ª–Ω–æ–ª—É–Ω–∏–µ, –¥–µ–≤–æ—á–∫–∞ –≤ –∫–∏–º–æ–Ω–æ",
            "–ú–µ—Ö–∞–Ω–∏—á–µ—Å–∫–∏–π —Å–ª–æ–Ω –≤ –¥–∂—É–Ω–≥–ª—è—Ö –ò–Ω–¥–∏–∏",
            "–õ–µ–¥—è–Ω–æ–π –¥–≤–æ—Ä–µ—Ü –Ω–∞ –°–µ–≤–µ—Ä–Ω–æ–º –ø–æ–ª—é—Å–µ",
            "–ü–æ—Ä—Ç—Ä–µ—Ç –∫–∏–±–æ—Ä–≥–∞ —Å –∂–∏–≤—ã–º–∏ –≥–ª–∞–∑–∞–º–∏",
            "–ü–∏—Ä–∞—Ç—Å–∫–∏–π –∫–æ—Ä–∞–±–ª—å –ø–ª—ã–≤—ë—Ç –ø–æ –æ–±–ª–∞–∫–∞–º",
            "–ú–∞–≥–∏—á–µ—Å–∫–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ —Å –ø–∞—Ä—è—â–∏–º–∏ –∫–Ω–∏–≥–∞–º–∏",
            "–û–¥–∏–Ω–æ–∫–∏–π –ø—É—Ç–µ—à–µ—Å—Ç–≤–µ–Ω–Ω–∏–∫ –≤ –ø—É—Å—Ç—ã–Ω–µ –°–∞—Ö–∞—Ä–∞",
            "–ì—Ä–∏–±–Ω–æ–π –ª–µ—Å —Å –±–∏–æ–ª—é–º–∏–Ω–µ—Å—Ü–µ–Ω—Ç–Ω—ã–º–∏ –≥—Ä–∏–±–∞–º–∏",
            "–ö–æ—Å–º–∏—á–µ—Å–∫–∏–π –±–∞—Ä –≤ –¥–∞–ª—ë–∫–æ–π –≥–∞–ª–∞–∫—Ç–∏–∫–µ",
            "–ó–∏–º–Ω—è—è —Å–∫–∞–∑–∫–∞: –ª–µ–¥—è–Ω—ã–µ –∫–æ–Ω—å–∫–æ–±–µ–∂—Ü—ã –Ω–∞ –æ–∑–µ—Ä–µ",
            "–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –±—É–¥—É—â–µ–≥–æ: —Å—Ç–µ–∫–ª–æ –∏ –ø—Ä–∏—Ä–æ–¥–∞ –≤ –≥–∞—Ä–º–æ–Ω–∏–∏",
            "–î–µ–≤—É—à–∫–∞ —Å –≤–æ–ª—à–µ–±–Ω–æ–π –∫–Ω–∏–≥–æ–π –≤ —Å—Ç–∞—Ä–∏–Ω–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–µ",
            "–ü–æ–ª—ë—Ç –Ω–∞ –±—É–º–∞–∂–Ω–æ–º –∂—É—Ä–∞–≤–ª–µ –Ω–∞–¥ –≥–æ—Ä–æ–¥–æ–º",
            "–û–∫–µ–∞–Ω –∏–∑ –∑–≤—ë–∑–¥, –∞ –ª—É–Ω–∞ ‚Äî –º–∞—è–∫",
            "–°–∞–¥ –∏–∑ –∫—Ä–∏—Å—Ç–∞–ª–ª–æ–≤ –ø–æ–¥ —Å—Ç–µ–∫–ª—è–Ω–Ω—ã–º –∫—É–ø–æ–ª–æ–º",
            "–ú–µ—Ö–∞–Ω–∏—á–µ—Å–∫–∞—è —Å–æ–≤–∞ –Ω–∞ –∑–∞–±—Ä–æ—à–µ–Ω–Ω–æ–π –±–∞—à–Ω–µ",
            "–õ–µ—Å –∏–∑ –∑–µ—Ä–∫–∞–ª –≤ —É—Ç—Ä–µ–Ω–Ω–µ–º —Ç—É–º–∞–Ω–µ",
            "–ü—Ä–∞–∑–¥–Ω–∏–∫ —Ñ–æ–Ω–∞—Ä–∏–∫–æ–≤ –Ω–∞–¥ —Ä–µ–∫–æ–π –≤ –≥–æ—Ä–∞—Ö",
            "–ö–∏—Ç-–Ω–µ–±–æ—Å–∫—Ä—ë–± –≤ –æ–±–ª–∞–∫–∞—Ö",
            "–î–µ—Ä–µ–≤–æ –∂–µ–ª–∞–Ω–∏–π —Å –≥–æ—Ä—è—â–∏–º–∏ –ª–∏—Å—Ç—å—è–º–∏",
            "–ö–æ—Å–º–∏—á–µ—Å–∫–∏–π –ø–æ–µ–∑–¥ —Å–∫–≤–æ–∑—å –∫–æ–ª—å—Ü–∞ –°–∞—Ç—É—Ä–Ω–∞",
            "–ê–∫–≤–∞—Ä–∏—É–º —Å –∏–Ω–æ–ø–ª–∞–Ω–µ—Ç–Ω—ã–º–∏ —Ä—ã–±–∞–º–∏",
            "–ë–∞–ª–µ—Ç —Ä–æ–±–æ—Ç–æ–≤ –≤ –∑–∞–ª–µ —Å –∑–æ–ª–æ—Ç—ã–º–∏ –∫–æ–ª–æ–Ω–Ω–∞–º–∏",
            "–î–æ–º –Ω–∞ —Å–ø–∏–Ω–µ –≥–∏–≥–∞–Ω—Ç—Å–∫–æ–π —á–µ—Ä–µ–ø–∞—Ö–∏",
            "–û—Å—Ç—Ä–æ–≤, –ø–∞—Ä—è—â–∏–π –Ω–∞–¥ –≤–æ–¥–æ–ø–∞–¥–æ–º",
            "–ú—É–∑—ã–∫–∞–Ω—Ç –∏–≥—Ä–∞–µ—Ç –Ω–∞ –≤–∏–æ–ª–æ–Ω—á–µ–ª–∏ –≤ –ø–µ—â–µ—Ä–µ —Å–æ —Å–≤–µ—Ç–ª—è—á–∫–∞–º–∏",
            "–ì–æ—Ä–æ–¥ –≤ –±—É—Ç—ã–ª–∫–µ –Ω–∞ –ø–æ–¥–æ–∫–æ–Ω–Ω–∏–∫–µ",
            "–ë—É–º–∞–∂–Ω—ã–π –∫–æ—Ä–∞–±–ª—å –≤ –ª—É–∂–µ –ø–æ—Å–ª–µ –¥–æ–∂–¥—è",
            "–°–ª–æ–Ω –∏–∑ –æ–±–ª–∞–∫–æ–≤ –Ω–∞–¥ –ø—É—Å—Ç—ã–Ω–µ–π",
            "–ö–Ω–∏–∂–Ω—ã–π –º–∞–≥–∞–∑–∏–Ω —Å –ª–µ—Å—Ç–Ω–∏—Ü–∞–º–∏ –≤ –Ω–∏–∫—É–¥–∞",
            "–î–≤–µ—Ä—å –≤ –¥—Ä—É–≥–æ–µ –∏–∑–º–µ—Ä–µ–Ω–∏–µ –≤ —Å—Ç–∞—Ä–æ–º —à–∫–∞—Ñ—É",
            "–¶–≤–µ—Ç–æ–∫, —Ä–∞—Å–ø—É—Å–∫–∞—é—â–∏–π—Å—è –ø—Ä–∏ –ª—É–Ω–Ω–æ–º —Å–≤–µ—Ç–µ",
            "–ü—á—ë–ª—ã –∏–∑ —Å–≤–µ—Ç–∞ –æ–ø—ã–ª—è—é—Ç –∑–≤—ë–∑–¥—ã",
            "–ù–µ–±–µ—Å–Ω—ã–π –∫–∏—Ç –ø—Ä–æ–ø–ª—ã–≤–∞–µ—Ç –º–∏–º–æ –æ–±–ª–∞–∫–æ–≤",
            "–î–µ—Ä–µ–≤—è–Ω–Ω—ã–π –¥—Ä–∞–∫–æ–Ω –≤ —Å–∞–¥—É –∫–∞–º–Ω–µ–π",
            "–ü–∏—Å—å–º–æ, –Ω–∞–ø–∏—Å–∞–Ω–Ω–æ–µ –¥–æ–∂–¥—ë–º –Ω–∞ –∞—Å—Ñ–∞–ª—å—Ç–µ",
            "–õ—É–Ω–∞ –≤ –≤–∏–¥–µ –∫–æ–ª–µ—Å–∞ –æ–±–æ–∑—Ä–µ–Ω–∏—è",
            "–¢–∞–Ω—Ü—É—é—â–∏–µ —Å—Ç–∞—Ç—É–∏ –Ω–∞ –ø–ª–æ—â–∞–¥–∏ –ø–æ–ª—É–Ω–æ—á—å—é",
            "–ß–∞–π –≤ –∫–æ—Å–º–æ—Å–µ —Å –≤–∏–¥–æ–º –Ω–∞ –ó–µ–º–ª—é",
            "–ü–µ—Å–æ—á–Ω—ã–µ —á–∞—Å—ã —Å –≥–∞–ª–∞–∫—Ç–∏–∫–æ–π –≤–Ω—É—Ç—Ä–∏",
            "–°–µ—Ä–¥—Ü–µ –∏–∑ –ø—Ä–æ–≤–æ–¥–æ–≤ –∏ —Ü–≤–µ—Ç–æ–≤",
            "–ö–∞—Ä—Ç–∞ –º–∏—Ä–∞ –Ω–∞ —Å–ø–∏–Ω–µ –±–∞–±–æ—á–∫–∏",
            "–§–æ–Ω–∞—Ä—â–∏–∫ –∑–∞–∂–∏–≥–∞–µ—Ç –∑–≤—ë–∑–¥—ã –Ω–∞ –Ω–µ–±–µ",
            "–ö–æ—Ä–∞–±–ª—å –∏–∑ –∫–Ω–∏–≥ –ø–ª—ã–≤—ë—Ç –ø–æ —Ä–µ–∫–µ —Å–ª–æ–≤",
            "–í–æ–ª—à–µ–±–Ω–∞—è –ª–∞–º–ø–∞ –≤ –≤–∏–¥–µ —Å—Ç–∞—Ä–æ–≥–æ —Ç–µ–ª–µ—Ñ–æ–Ω–∞",
            "–°–Ω–µ–≥ –∏–∑ –ª–µ–ø–µ—Å—Ç–∫–æ–≤ –ø–µ—Ä—Å–∏–∫–æ–≤–æ–≥–æ –¥–µ—Ä–µ–≤–∞",
            "–î–æ–º–∏–∫ –≤ –∫–æ—Ä–Ω—è—Ö –¥—Ä–µ–≤–Ω–µ–≥–æ –¥—É–±–∞",
            "–ú–æ—Å—Ç –∏–∑ —Ä–∞–¥—É–≥–∏ –º–µ–∂–¥—É –¥–≤—É–º—è –≥–æ—Ä–∞–º–∏",
            "–ö–æ—Ñ–µ —Å –∑–≤—ë–∑–¥–Ω–æ–π –ø–µ–Ω–æ–π –≤ —É—é—Ç–Ω–æ–π –∫–æ—Å–º–∏—á–µ—Å–∫–æ–π –∫–æ—Ñ–µ–π–Ω–µ",
            "–°–∫—Ä–∏–ø–∫–∞, –∏–≥—Ä–∞—é—â–∞—è —Ä–∞—Å—Å–≤–µ—Ç",
            "–ü–∏—Å—å–º–æ –æ—Ç –±—É–¥—É—â–µ–≥–æ —Å–µ–±–µ –≤ –±—É—Ç—ã–ª–∫–µ –≤—Ä–µ–º–µ–Ω–∏",
            "–¶–≤–µ—Ç—É—â–∏–π –∫–∞–∫—Ç—É—Å –≤ –ª—É–Ω–Ω–æ–º —Å–≤–µ—Ç–µ",
            "–ì–æ—Ä–æ–¥ –≤ –∫–∞–ø–ª–µ —Ä–æ—Å—ã",
            "–î—Ä–∞–∫–æ–Ω –∏–∑ –¥—ã–º–∞ –Ω–∞–¥ –∫–æ—Å—Ç—Ä–æ–º",
            "–ë–∞–ª–∫–æ–Ω —Å –≤–∏–¥–æ–º –Ω–∞ –ú–ª–µ—á–Ω—ã–π –ü—É—Ç—å",
            "–ö–Ω–∏–≥–∞ —Å –∂–∏–≤—ã–º–∏ –∏–ª–ª—é—Å—Ç—Ä–∞—Ü–∏—è–º–∏",
            "–ü–∞—Ä—è—â–∏–π –æ—Å—Ç—Ä–æ–≤ —Å –≤–æ–¥–æ–ø–∞–¥–æ–º –≤ –Ω–∏–∫—É–¥–∞",
            "–ú–µ—Ö–∞–Ω–∏—á–µ—Å–∫–∞—è –ø—Ç–∏—Ü–∞ –ø–æ—ë—Ç –Ω–∞ —Ä–∞—Å—Å–≤–µ—Ç–µ",
            "–°–µ—Ä–¥—Ü–µ, –±—å—é—â–µ–µ—Å—è –≤ –∫—Ä–∏—Å—Ç–∞–ª–ª–µ –ª—å–¥–∞",
            "–î–≤–µ—Ä–Ω–æ–π –ø—Ä–æ—ë–º –≤ —Å–∞–¥ –≤–µ—á–Ω–æ–π –≤–µ—Å–Ω—ã",
            "–§–æ–Ω–∞—Ä–∏–∫, –æ—Å–≤–µ—â–∞—é—â–∏–π –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏—è",
            "–ü–ª–∞—Ç—å–µ –∏–∑ —Ç—É–º–∞–Ω–∞ –∏ –∑–≤—ë–∑–¥",
            "–õ–µ—Å—Ç–Ω–∏—Ü–∞ –≤ –æ–±–ª–∞–∫–∞ –∏–∑ —Å—Ç–∞—Ä—ã—Ö –∫–Ω–∏–≥",
            "–í–æ–¥–∞, —Ç–µ–∫—É—â–∞—è –≤–≤–µ—Ä—Ö –ø–æ —Å—Ç–µ–Ω–µ",
            "–¶–≤–µ—Ç–æ–∫, –ø–æ–π–º–∞–≤—à–∏–π –ª—É–Ω–Ω—ã–π –ª—É—á",
            "–ö–∞—Ä—Ç–∞ —Å–æ–∫—Ä–æ–≤–∏—â –≤ –∫–æ–∂–µ –∞–ø–µ–ª—å—Å–∏–Ω–∞",
            "–°–∫—Ä–∏–ø–∫–∞, —Å–¥–µ–ª–∞–Ω–Ω–∞—è –∏–∑ –¥–µ—Ä–µ–≤–∞ –∏ —Å–≤–µ—Ç–∞",
            "–°–∞–¥ –∏–∑ —à—ë–ø–æ—Ç–∞ –∏ –∑–≤—ë–∑–¥–Ω–æ–π –ø—ã–ª–∏",
            "–ß–∞—Å—ã, –ø–æ–∫–∞–∑—ã–≤–∞—é—â–∏–µ –≤—Ä–µ–º—è –º–µ—á—Ç—ã",
            "–ö–æ—Ä–∞–±–ª—å –∏–∑ –ø–µ—Ä—å–µ–≤ –∏ –Ω–∞–¥–µ–∂–¥",
            "–û–∫–Ω–æ –≤ –¥—Ä—É–≥–æ–π –º–∏—Ä –≤ —Å—Ç–∞—Ä–æ–º –∑–µ—Ä–∫–∞–ª–µ",
            "–ü–∏—Å—å–º–æ, –Ω–∞–ø–∏—Å–∞–Ω–Ω–æ–µ –≤–µ—Ç—Ä–æ–º –Ω–∞ –ø–µ—Å–∫–µ",
            "–ö–æ—à–∫–∞, —Å—Ç–æ—Ä–æ–∂–∞—â–∞—è –≥—Ä–∞–Ω–∏—Ü—É –º–µ–∂–¥—É –º–∏—Ä–∞–º–∏",
            "–î–µ—Ä–µ–≤–æ —Å –ø–ª–æ–¥–∞–º–∏-–ª—É–Ω–∞–º–∏",
            "–ü–µ—Å–Ω—è, —Å–ª–æ–∂–µ–Ω–Ω–∞—è –∏–∑ —Å–Ω–µ–∂–∏–Ω–æ–∫",
            "–§–æ–Ω–∞—Ä–∏–∫, —Å–≤–µ—Ç—è—â–∏–π—Å—è –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏—è–º–∏",
            "–ú–æ—Å—Ç –∏–∑ –º—É–∑—ã–∫–∏ —á–µ—Ä–µ–∑ —Ä–µ–∫—É –≤—Ä–µ–º–µ–Ω–∏",
            "–î–æ–º, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –∏–∑ –∑–∞–∫–∞—Ç–æ–≤",
            "–ö–ª—é—á –æ—Ç –¥–≤–µ—Ä–∏ –≤ –¥–µ—Ç—Å—Ç–≤–æ",
            "–°–µ—Ä–¥—Ü–µ, –±—å—é—â–µ–µ—Å—è –≤ —Ä–∏—Ç–º–µ –≤—Å–µ–ª–µ–Ω–Ω–æ–π",
            "–ü–∏—Å—å–º–æ –æ—Ç –∑–≤–µ–∑–¥—ã –Ω–∞ –ó–µ–º–ª—é"
        ];

        function getRandomExamples(arr, count) {
            const shuffled = [...arr].sort(() => 0.5 - Math.random());
            return shuffled.slice(0, count);
        }

        function renderRandomExamples() {
            const examplesList = document.getElementById('examples-list');
            const selected = getRandomExamples(allExamples, 5);
            examplesList.innerHTML = selected.map(text => 
                `<span class="example-btn" data-text="${text}">${text}</span>`
            ).join('');
            
            document.querySelectorAll('.example-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    inputEl.value = e.target.dataset.text;
                    generatePrompt();
                });
            });
        }

        const inputEl = document.getElementById('input');
        const outputEl = document.getElementById('output');
        const enhancedOutputEl = document.getElementById('enhanced-output');
        const copyBtn = document.getElementById('copy-btn');
        const copyEnhancedBtn = document.getElementById('copy-enhanced-btn');
        const enhanceBtn = document.getElementById('enhance-btn');
        const notificationEl = document.getElementById('notification');
        const styleSearchEl = document.getElementById('style-search');
        const artisticSearchEl = document.getElementById('artistic-search');
        const stylesContentEl = document.getElementById('styles-content');
        const artisticContentEl = document.getElementById('artistic-content');
        const historyGrid = document.getElementById('history-grid');

        const MAX_ARTISTIC = 5;

        function getSelectedStyle() {
            const selected = document.querySelector('input[name="style"]:checked');
            return selected ? selected.value : 'none';
        }

        function getSelectedArtistic() {
            const checked = document.querySelectorAll('input[name="artistic"]:checked');
            return Array.from(checked)
                .map(el => el.value)
                .slice(0, MAX_ARTISTIC);
        }

        function limitArtisticCheckboxes() {
            const checked = document.querySelectorAll('input[name="artistic"]:checked');
            if (checked.length > MAX_ARTISTIC) {
                const last = checked[checked.length - 1];
                last.checked = false;
                showNotification(`–ú–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –Ω–µ –±–æ–ª–µ–µ ${MAX_ARTISTIC} —ç–ª–µ–º–µ–Ω—Ç–æ–≤`);
            }
        }

        function toggleSubcategory(id) {
            const content = document.getElementById(`subcat-${id}`);
            const icon = document.getElementById(`subcat-toggle-${id}`);
            const isExpanded = content.classList.contains('expanded');
            
            content.classList.toggle('expanded', !isExpanded);
            icon.classList.toggle('collapsed', !isExpanded);
        }

        function renderStyles() {
            const query = styleSearchEl.value.toLowerCase();
            let html = '';

            for (const [cat, items] of Object.entries(styleCategories)) {
                const filtered = items.filter(s => 
                    s.toLowerCase().includes(query) || (styleTranslations[s] && styleTranslations[s].toLowerCase().includes(query))
                );
                if (filtered.length === 0 && query !== '') continue; // Skip if no matches and there's a query

                const safeCatId = cat.replace(/\s+/g, '_');
                html += `
                    <div class="section-header subcategory-header" onclick="toggleSubcategory('styles_${safeCatId}')">
                        <h4>${cat}</h4>
                        <span class="toggle-icon collapsed" id="subcat-toggle-styles_${safeCatId}">‚ñº</span>
                    </div>
                    <div class="subcategory-content" id="subcat-styles_${safeCatId}">
                        <div class="styles-list">
                `;
                filtered.forEach(style => {
                    const displayName = style === 'none' ? '–ë–µ–∑ —Å—Ç–∏–ª—è' : style;
                    const translation = styleTranslations[style] || style; // –ü–æ–ª—É—á–∞–µ–º –ø–µ—Ä–µ–≤–æ–¥
                    html += `
                        <label class="style-option" title="${translation}">
                            <input type="radio" name="style" value="${style}" onchange="generatePrompt()">
                            ${displayName}
                        </label>
                    `;
                });
                html += `
                        </div>
                    </div>
                `;
            }

            if (!query && html === '') {
                html = '<p style="color: var(--text-muted);">–°—Ç–∏–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</p>';
            }

            stylesContentEl.innerHTML = html;
            const selected = getSelectedStyle();
            const radio = stylesContentEl.querySelector(`input[value="${selected}"]`);
            if (radio) radio.checked = true;

            // All subcategories should be collapsed by default
            document.querySelectorAll('.subcategory-content').forEach(subcat => {
                subcat.classList.remove('expanded');
                const iconId = subcat.id.replace('subcat-', 'subcat-toggle-');
                const icon = document.getElementById(iconId);
                if (icon) {
                    icon.classList.add('collapsed');
                }
            });
        }

        function renderArtistic() {
            const query = artisticSearchEl.value.toLowerCase();
            let html = '';

            for (const [cat, subcategoriesOrItems] of Object.entries(artisticCategories)) {
                const safeCatId = cat.replace(/\s+/g, '_');
                
                // If the category contains sub-objects (like artists grouped by style)
                if (typeof subcategoriesOrItems === 'object' && !Array.isArray(subcategoriesOrItems)) {
                    let mainCatHtml = '';
                    let mainCatHasContent = false;

                    for (const [subCatName, itemsOrSubSubCategories] of Object.entries(subcategoriesOrItems)) {
                        const safeSubCatId = `${safeCatId}_${subCatName.replace(/\s+/g, '_')}`;
                        let currentSubCatHtml = '';
                        let currentSubCatHasContent = false;

                        // If it's a sub-subcategory (e.g., "–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ü–∏—Ñ—Ä–æ–≤—ã–µ —Ö—É–¥–æ–∂–Ω–∏–∫–∏" -> "–ö–æ–Ω—Ü–µ–ø—Ç-–∞—Ä—Ç")
                        if (typeof itemsOrSubSubCategories === 'object' && !Array.isArray(itemsOrSubSubCategories)) {
                            let subSubCatHtml = '';
                            let subSubCatHasContent = false;
                            for (const [subSubCatName, items] of Object.entries(itemsOrSubSubCategories)) {
                                const filtered = items.filter(s => 
                                    s.toLowerCase().includes(query) || (artisticTranslations[s] && artisticTranslations[s].toLowerCase().includes(query))
                                );
                                if (filtered.length > 0) {
                                    subSubCatHasContent = true;
                                    const safeSubSubCatId = `${safeSubCatId}_${subSubCatName.replace(/\s+/g, '_')}`;
                                    subSubCatHtml += `
                                        <div class="artistic-category-level-2">
                                            <div class="section-header subcategory-header" onclick="toggleSubcategory('artistic_${safeSubSubCatId}')">
                                                <h4>${subSubCatName}</h4>
                                                <span class="toggle-icon collapsed" id="subcat-toggle-artistic_${safeSubSubCatId}">‚ñº</span>
                                            </div>
                                            <div class="subcategory-content" id="subcat-artistic_${safeSubSubCatId}">
                                                <div class="styles-list">
                                    `;
                                    filtered.forEach(item => {
                                        const translation = artisticTranslations[item] || item;
                                        subSubCatHtml += `
                                            <label class="style-option" title="${translation}">
                                                <input type="checkbox" name="artistic" value="${item}" onchange="limitArtisticCheckboxesEnhanced(); generatePrompt();">
                                                ${item}
                                            </label>
                                        `;
                                    });
                                    subSubCatHtml += `
                                                </div>
                                            </div>
                                        </div>
                                    `;
                                }
                            }
                            if (subSubCatHasContent) {
                                currentSubCatHtml += subSubCatHtml;
                                currentSubCatHasContent = true;
                            }
                        } else { // Direct items under a subcategory
                            const filtered = itemsOrSubSubCategories.filter(s => 
                                s.toLowerCase().includes(query) || (artisticTranslations[s] && artisticTranslations[s].toLowerCase().includes(query))
                            );
                            if (filtered.length > 0) {
                                currentSubCatHasContent = true;
                                currentSubCatHtml += `
                                    <div class="styles-list">
                                `;
                                filtered.forEach(item => {
                                    const translation = artisticTranslations[item] || item;
                                    currentSubCatHtml += `
                                        <label class="style-option" title="${translation}">
                                            <input type="checkbox" name="artistic" value="${item}" onchange="limitArtisticCheckboxesEnhanced(); generatePrompt();">
                                            ${item}
                                        </label>
                                    `;
                                });
                                currentSubCatHtml += `
                                    </div>
                                `;
                            }
                        }

                        if (currentSubCatHasContent || (query && subCatName.toLowerCase().includes(query))) {
                            mainCatHasContent = true;
                            mainCatHtml += `
                                <div class="artistic-category-level-1">
                                    <div class="section-header subcategory-header" onclick="toggleSubcategory('artistic_${safeSubCatId}')">
                                        <h4>${subCatName}</h4>
                                        <span class="toggle-icon collapsed" id="subcat-toggle-artistic_${safeSubCatId}">‚ñº</span>
                                    </div>
                                    <div class="subcategory-content" id="subcat-artistic_${safeSubCatId}">
                                        ${currentSubCatHtml}
                                    </div>
                                </div>
                            `;
                        }
                    }

                    if (mainCatHasContent || (query && cat.toLowerCase().includes(query))) {
                        html += `
                            <div class="section-header subcategory-header" onclick="toggleSubcategory('artistic_main_${safeCatId}')">
                                <h3>${cat}</h3>
                                <span class="toggle-icon collapsed" id="subcat-toggle-artistic_main_${safeCatId}">‚ñº</span>
                            </div>
                            <div class="subcategory-content" id="subcat-artistic_main_${safeCatId}">
                                ${mainCatHtml}
                            </div>
                        `;
                    }

                } else { // If the category directly contains items (not sub-objects)
                    const filtered = subcategoriesOrItems.filter(s => 
                        s.toLowerCase().includes(query) || (artisticTranslations[s] && artisticTranslations[s].toLowerCase().includes(query))
                    );
                    if (filtered.length === 0 && !query) continue;
                    if (filtered.length === 0 && query && !cat.toLowerCase().includes(query)) continue;


                    html += `
                        <div class="section-header subcategory-header" onclick="toggleSubcategory('artistic_${safeCatId}')">
                            <h4>${cat}</h4>
                            <span class="toggle-icon collapsed" id="subcat-toggle-artistic_${safeCatId}">‚ñº</span>
                        </div>
                        <div class="subcategory-content" id="subcat-artistic_${safeCatId}">
                            <div class="styles-list">
                    `;
                    filtered.forEach(item => {
                        const translation = artisticTranslations[item] || item;
                        html += `
                            <label class="style-option" title="${translation}">
                                <input type="checkbox" name="artistic" value="${item}" onchange="limitArtisticCheckboxesEnhanced(); generatePrompt();">
                                ${item}
                            </label>
                        `;
                    });
                    html += `
                            </div>
                        </div>
                    `;
                }
            }

            if (!query && html === '') {
                html = '<p style="color: var(--text-muted);">–≠–ª–µ–º–µ–Ω—Ç—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</p>';
            }

            artisticContentEl.innerHTML = html;
            const selected = getSelectedArtistic();
            document.querySelectorAll('input[name="artistic"]').forEach(el => {
                el.checked = selected.includes(el.value);
            });

            // All subcategories should be collapsed by default
            document.querySelectorAll('.subcategory-content').forEach(subcat => {
                subcat.classList.remove('expanded');
                const iconId = subcat.id.replace('subcat-', 'subcat-toggle-');
                const icon = document.getElementById(iconId);
                if (icon) {
                    icon.classList.add('collapsed');
                }
            });
        }

        async function generatePrompt() {
            const input = inputEl.value.trim();
            if (!input) {
                outputEl.value = '';
                return;
            }

            let translated = input;
            try {
                // –ò–∑–º–µ–Ω–µ–Ω–æ: –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤–µ—Å—å —Ç–µ–∫—Å—Ç –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞, –¥–∞–∂–µ –µ—Å–ª–∏ –µ—Å—Ç—å —Ç–æ—á–∫–∏.
                // Google Translate API –æ–±—ã—á–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.
                const res = await fetch(
                    `https://translate.googleapis.com/translate_a/single?client=gtx&sl=ru&tl=en&dt=t&q=${encodeURIComponent(input)}`
                );
                if (res.ok) {
                    const data = await res.json();
                    translated = data[0].map(s => s[0]).join(' '); // –û–±—ä–µ–¥–∏–Ω—è–µ–º –≤—Å–µ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–Ω—ã–µ —Å–µ–≥–º–µ–Ω—Ç—ã
                }
            } catch (err) {
                console.warn('Translation failed');
            }

            const selectedStyle = getSelectedStyle();
            const artistic = getSelectedArtistic();

            const resolution = document.getElementById('resolution').value;
            const lighting = document.getElementById('lighting').value;
            const colors = document.getElementById('colors').value; // Original colors from quality settings
            const focus = document.getElementById('focus').value;
            const detail = document.getElementById('detail').value;

            let basePart = '';
            if (selectedStyle !== 'none') {
                const template = styleDescriptions[selectedStyle];
                if (template) {
                    basePart = template.replace("{prompt}", translated);
                } else {
                    basePart = `${translated}, in ${selectedStyle} style`;
                }
            } else {
                basePart = translated;
            }

            let artisticPart = '';
            if (artistic.length > 0) {
                const templates = artistic
                    .map(item => artisticTemplates[item] || item)
                    .filter(Boolean);
                if (templates.length > 0) {
                    artisticPart = templates.join(', ');
                }
            }

            const qualityParts = [];
            if (detail) qualityParts.push(detail);
            if (resolution) qualityParts.push(resolution);
            if (colors) qualityParts.push(colors); // Add original quality colors
            if (focus) qualityParts.push(focus);
            if (lighting) qualityParts.push(lighting);

            let parts = [basePart];
            if (artisticPart) parts.push(artisticPart);
            if (qualityParts.length > 0) parts.push(qualityParts.join(', '));

            let finalPrompt = parts.join(', ');

            // Normalize the ending: remove any trailing period that might come from the translation.
            if (finalPrompt.endsWith('.')) {
                finalPrompt = finalPrompt.slice(0, -1).trim();
            }

            // Add the period back only if it was present in the original Russian input.
            if (input.endsWith('.')) {
                finalPrompt += '.';
            }
            
            outputEl.value = finalPrompt;
        }

        const enhancePrompts = {
            "artistic": "Enhance this AI art prompt to be highly artistic, evocative, and detailed. Add references to artists, mood, lighting, color palette, and color composition. Keep it as a single English sentence.",
            "technical": "Enhance this prompt focusing on extreme technical detail, resolution (8k, 16k), textures, lighting physics, and photorealism. Include terms like 'octane render', 'ray tracing', 'unreal engine 5', 'sharp focus'. Keep it as a single English sentence.",
            "cinematic": "Rewrite this prompt as a high-budget movie scene. Focus on camera angles (wide shot, close up, dutch angle), depth of field, color grading (teal and orange), emotional atmosphere, and composition. Keep it as a single English sentence.",
            "anime": "Rewrite this prompt in a high-quality anime style (Makoto Shinkai/Studio Ghibli style). Focus on vibrant colors, emotive characters, 2D animation aesthetics, and cel shading. Keep it as a single English sentence.",
            "minimalist": "Simplify and refine this prompt for a minimalist aesthetic. Focus on clean lines, negative space, simple geometry, and limited color palette. Remove clutter. Keep it as a single English sentence."
        };

        async function enhanceArtistically() {
            const prompt = outputEl.value.trim();
            if (!prompt) {
                showNotification('–°–Ω–∞—á–∞–ª–∞ —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –ø—Ä–æ–º–ø—Ç');
                return;
            }

            if (!GROQ_KEY) {
                showNotification('–í–≤–µ–¥–∏—Ç–µ API-–∫–ª—é—á Groq');
                return;
            }

            const originalPlaceholder = enhancedOutputEl.placeholder;
            enhancedOutputEl.value = '';
            enhancedOutputEl.placeholder = 'üß† –£–ª—É—á—à–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –ò–ò...';

            let dots = 0;
            const dotInterval = setInterval(() => {
                dots = (dots + 1) % 4;
                enhancedOutputEl.placeholder = 'üß† –£–ª—É—á—à–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –ò–ò' + '.'.repeat(dots);
            }, 500);

            const controller = new AbortController();
            const timeoutId = setTimeout(() => controller.abort(), 12000);
            
            // –ü–æ–ª—É—á–∞–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º
            const mode = document.getElementById('enhance-mode').value;
            const systemPrompt = enhancePrompts[mode] || enhancePrompts['artistic'];

            try {
                const response = await fetch("https://api.groq.com/openai/v1/chat/completions", {
                    method: "POST",
                    signal: controller.signal,
                    headers: {
                        "Authorization": `Bearer ${GROQ_KEY}`,
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify({
                        model: SELECTED_MODEL,
                        messages: [{
                            role: "user",
                            content: `${systemPrompt} Prompt: "${prompt}"`
                        }]
                    })
                });

                clearTimeout(timeoutId);
                clearInterval(dotInterval);
                enhancedOutputEl.placeholder = originalPlaceholder;

                if (!response.ok) {
                    let errorMessage = '‚ùå –û—à–∏–±–∫–∞ Groq API';
                    if (response.status === 401) {
                        errorMessage = '‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π API-–∫–ª—é—á';
                    } else if (response.status === 429) {
                        errorMessage = '‚ùå –õ–∏–º–∏—Ç –∑–∞–ø—Ä–æ—Å–æ–≤ –∏—Å—á–µ—Ä–ø–∞–Ω';
                    } else {
                        errorMessage = `‚ùå –û—à–∏–±–∫–∞: ${response.status}`;
                    }
                    enhancedOutputEl.value = errorMessage;
                    console.error('Groq API error:', response.status, await response.text());
                    return;
                }

                const data = await response.json();
                if (data.choices?.[0]?.message?.content) {
                    // –£–¥–∞–ª—è–µ–º –∫–∞–≤—ã—á–∫–∏
                    enhancedOutputEl.value = data.choices[0].message.content.trim().replace(/["']/g, '');
                } else {
                    throw new Error('–ü—É—Å—Ç–æ–π –æ—Ç–≤–µ—Ç –æ—Ç –º–æ–¥–µ–ª–∏');
                }
            } catch (err) {
                clearTimeout(timeoutId);
                clearInterval(dotInterval);
                enhancedOutputEl.placeholder = originalPlaceholder;

                let errorMsg = 'üõ†Ô∏è –ù–µ —É–¥–∞–ª–æ—Å—å —É–ª—É—á—à–∏—Ç—å –ø—Ä–æ–º–ø—Ç';
                if (err.name === 'AbortError') {
                    errorMsg = '‚è±Ô∏è –¢–∞–π–º–∞—É—Ç: —Å–µ—Ä–≤–µ—Ä –Ω–µ –æ—Ç–≤–µ—Ç–∏–ª';
                } else if (err.message && err.message.includes('Failed to fetch')) {
                    errorMsg = 'üåê –ù–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Groq API';
                }
                enhancedOutputEl.value = errorMsg;
                console.error('Enhancement error:', err);
            }
        }
        
        async function translateBack(sourceId) {
            const text = document.getElementById(sourceId).value;
            if (!text || text.startsWith('‚ùå') || text.startsWith('‚è±Ô∏è') || text.startsWith('üåê') || text.startsWith('üõ†Ô∏è')) {
                showToast('‚ö†Ô∏è –ù–µ—Ç —Ç–µ–∫—Å—Ç–∞ –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞');
                return;
            }
            
            const modal = document.getElementById('translation-modal');
            const resultDiv = document.getElementById('translation-result');
            modal.style.display = 'block';
            resultDiv.textContent = '–ó–∞–≥—Ä—É–∑–∫–∞ –ø–µ—Ä–µ–≤–æ–¥–∞...';
            
            try {
                // –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ç–æ—Ç –∂–µ API, –Ω–æ en -> ru
                const res = await fetch(
                    `https://translate.googleapis.com/translate_a/single?client=gtx&sl=en&tl=ru&dt=t&q=${encodeURIComponent(text)}`
                );
                
                if (res.ok) {
                    const data = await res.json();
                    const translatedText = data[0].map(s => s[0]).join(' ');
                    resultDiv.textContent = translatedText;
                } else {
                    resultDiv.textContent = '‚ùå –û—à–∏–±–∫–∞ —Å–µ—Ä–≤–∏—Å–∞ –ø–µ—Ä–µ–≤–æ–¥–∞';
                }
            } catch (err) {
                console.error(err);
                resultDiv.textContent = '‚ùå –û—à–∏–±–∫–∞ —Å–µ—Ç–∏ –ø—Ä–∏ –ø–µ—Ä–µ–≤–æ–¥–µ';
            }
        }


        async function copyTranslation() {
            const text = document.getElementById('translation-result').textContent;
            if (!text || text === '–ó–∞–≥—Ä—É–∑–∫–∞ –ø–µ—Ä–µ–≤–æ–¥–∞...' || text.startsWith('‚ùå')) {
                showToast('‚ö†Ô∏è –ù–µ—Ç —Ç–µ–∫—Å—Ç–∞ –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è');
                return;
            }
            
            try {
                await navigator.clipboard.writeText(text);
                showNotification('–ü–µ—Ä–µ–≤–æ–¥ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω!');
            } catch (err) {
                // Fallback –¥–ª—è —Å—Ç–∞—Ä—ã—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤
                const textarea = document.createElement('textarea');
                textarea.value = text;
                document.body.appendChild(textarea);
                textarea.select();
                document.execCommand('copy');
                document.body.removeChild(textarea);
                showNotification('–ü–µ—Ä–µ–≤–æ–¥ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω!');
            }
        }

        async function copyPrompt() {
            const text = outputEl.value;
            if (!text) return;
            try {
                await navigator.clipboard.writeText(text);
                showNotification('–ü—Ä–æ–º–ø—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω!');
                saveToHistory(text);
            } catch (err) {
                outputEl.select();
                document.execCommand('copy');
                showNotification('–ü—Ä–æ–º–ø—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω!');
                saveToHistory(text);
            }
        }

        async function copyEnhancedPrompt() {
            const text = enhancedOutputEl.value;
            if (!text || text.startsWith('‚ùå') || text.startsWith('‚è±Ô∏è') || text.startsWith('üåê') || text.startsWith('üõ†Ô∏è')) return;
            try {
                await navigator.clipboard.writeText(text);
                showNotification('–£–ª—É—á—à–µ–Ω–Ω—ã–π –ø—Ä–æ–º–ø—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω!');
                saveToHistory(text);
            } catch (err) {
                enhancedOutputEl.select();
                document.execCommand('copy');
                showNotification('–£–ª—É—á—à–µ–Ω–Ω—ã–π –ø—Ä–æ–º–ø—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω!');
                saveToHistory(text);
            }
        }

        function showNotification(message) {
            notificationEl.textContent = message;
            notificationEl.classList.add('show');
            setTimeout(() => notificationEl.classList.remove('show'), 2500);
        }

        const HISTORY_KEY = 'flux_prompt_history';
        const MAX_HISTORY = 60;

        function saveToHistory(prompt) {
            const history = loadFromStorage();
            const now = new Date();
            const entry = {
                prompt,
                timestamp: now.toISOString(),
                displayTime: now.toLocaleString('ru-RU', {
                    day: '2-digit',
                    month: '2-digit',
                    hour: '2-digit',
                    minute: '2-digit'
                })
            };
            if (history.length === 0 || history[0].prompt !== prompt) {
                history.unshift(entry);
                if (history.length > MAX_HISTORY) history.pop();
                localStorage.setItem(HISTORY_KEY, JSON.stringify(history));
                renderHistory(history);
            }
        }

        function loadHistory() {
            const history = loadFromStorage();
            renderHistory(history);
        }

        function loadFromStorage() {
            const data = localStorage.getItem(HISTORY_KEY);
            return data ? JSON.parse(data) : [];
        }

        function renderHistory(history) {
            if (history.length === 0) {
                historyGrid.innerHTML = '<p style="color: var(--text-muted); grid-column: 1 / -1;">–ò—Å—Ç–æ—Ä–∏—è –ø—É—Å—Ç–∞</p>';
                return;
            }
            historyGrid.innerHTML = history.map((item, i) => `
                <div class="history-item" onclick="loadFromHistory(${i})">
                    <strong>${item.prompt.substring(0, 60)}${item.prompt.length > 60 ? '...' : ''}</strong>
                    <time>${item.displayTime}</time>
                </div>
            `).join('');
        }

        function loadFromHistory(index) {
            const history = loadFromStorage();
            if (history[index]) {
                outputEl.value = history[index].prompt;
                inputEl.value = ''; // –û—á–∏—â–∞–µ–º –ø–æ–ª–µ –≤–≤–æ–¥–∞ —Ä—É—Å—Å–∫–æ–≥–æ —Ç–µ–∫—Å—Ç–∞
                enhancedOutputEl.value = ''; // –û—á–∏—â–∞–µ–º —É–ª—É—á—à–µ–Ω–Ω—ã–π –ø—Ä–æ–º–ø—Ç
            }
        }

        function clearHistory() {
            localStorage.removeItem(HISTORY_KEY);
            renderHistory([]);
        }

        function toggleSection(id, forceExpand = null) {
            const content = document.getElementById(`${id}-content`);
            const icon = document.getElementById(`${id}-toggle`);
            const isExpanded = content.classList.contains('expanded');
            const expand = (forceExpand === null) ? !isExpanded : forceExpand;
            content.classList.toggle('expanded', expand);
            icon.classList.toggle('collapsed', !expand);
            if (id === 'quality' && expand && !content.hasAttribute('initialized')) {
                content.setAttribute('initialized', 'true');
            }
        }

        function reset_parameters() {
            // –°–±—Ä–æ—Å —Å—Ç–∏–ª–µ–π: –≤—ã–±—Ä–∞—Ç—å 'none'
            const style_radios = document.querySelectorAll('input[name="style"]');
            style_radios.forEach(radio => {
                radio.checked = (radio.value === 'none');
            });
            
            // –°–±—Ä–æ—Å —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤: —Å–Ω—è—Ç—å –≤—Å–µ —á–µ–∫–±–æ–∫—Å—ã
            const artistic_checkboxes = document.querySelectorAll('input[name="artistic"]');
            artistic_checkboxes.forEach(cb => { cb.checked = false; });
            
            // –°–±—Ä–æ—Å –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∫–∞—á–µ—Å—Ç–≤–∞
            document.getElementById('resolution').value = '';
            document.getElementById('lighting').value = '';
            document.getElementById('colors').value = '';
            document.getElementById('focus').value = '';
            document.getElementById('detail').value = '';
            
            // –°–±—Ä–æ—Å –ø–æ–∏—Å–∫–æ–≤—ã—Ö –ø–æ–ª–µ–π
            document.getElementById('style-search').value = '';
            document.getElementById('artistic-search').value = '';
            
            // –û–±–Ω–æ–≤–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
            renderStyles();
            renderArtistic();
            
            // –ü–µ—Ä–µ–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–º–ø—Ç
            generatePrompt();
        }

        document.addEventListener('DOMContentLoaded', () => {
            initTheme();
            renderRandomExamples();

            inputEl.addEventListener('input', generatePrompt);
            copyBtn.addEventListener('click', copyPrompt);
            copyEnhancedBtn.addEventListener('click', copyEnhancedPrompt);
            enhanceBtn.addEventListener('click', enhanceArtistically);
            styleSearchEl.addEventListener('input', debouncedRenderStyles);
            artisticSearchEl.addEventListener('input', debouncedRenderArtistic);

            document.querySelectorAll('#resolution, #lighting, #colors, #focus, #detail').forEach(el => {
                el.addEventListener('change', generatePrompt);
            });

            renderStyles();
            renderArtistic();
            loadHistory();
            
            // Initial states for the main sections
            // All main sections are collapsed by default
            toggleSection('history', false);
            toggleSection('styles', false);
            toggleSection('artistic', false);
            toggleSection('quality', true); // Quality remains expanded for ease of use

            // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∫–Ω–æ–ø–∫–∏ —Å–±—Ä–æ—Å–∞
            document.getElementById('reset-button').addEventListener('click', reset_parameters);

            renderPresets();
            updateArtisticCounter();
            toggleSection('presets', false);

        });

        // ===== –ù–û–í–´–ï –§–£–ù–ö–¶–ò–ò =====
        
        // –î–µ–±–∞—É–Ω—Å –¥–ª—è –ø–æ–∏—Å–∫–∞
        let searchDebounceTimer = null;
        const DEBOUNCE_DELAY = 200;

        function debounce(func, delay) {
            return function(...args) {
                clearTimeout(searchDebounceTimer);
                searchDebounceTimer = setTimeout(() => func.apply(this, args), delay);
            };
        }

        const debouncedRenderStyles = debounce(renderStyles, DEBOUNCE_DELAY);
        const debouncedRenderArtistic = debounce(renderArtistic, DEBOUNCE_DELAY);

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—á—ë—Ç—á–∏–∫–∞ —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
        function updateArtisticCounter() {
            const checked = document.querySelectorAll('input[name="artistic"]:checked');
            const counter = document.getElementById('artistic-counter');
            const count = checked.length;
            
            counter.textContent = `${count}/${MAX_ARTISTIC}`;
            
            if (count > MAX_ARTISTIC) {
                counter.classList.add('exceeded');
            } else {
                counter.classList.remove('exceeded');
            }
        }

        // –ü–æ–∫–∞–∑ toast-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
        function showToast(message, duration = 3000) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.classList.add('show');
            
            setTimeout(() => {
                toast.classList.remove('show');
            }, duration);
        }

        // –û–±–Ω–æ–≤–ª—ë–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –ª–∏–º–∏—Ç–∞ —Å toast
        function limitArtisticCheckboxesEnhanced() {
            const checked = document.querySelectorAll('input[name="artistic"]:checked');
            
            if (checked.length > MAX_ARTISTIC) {
                const last = checked[checked.length - 1];
                last.checked = false;
                showToast(`‚ö†Ô∏è –ú–∞–∫—Å–∏–º—É–º ${MAX_ARTISTIC} —ç–ª–µ–º–µ–Ω—Ç–æ–≤!`);
            }
            
            updateArtisticCounter();
        }

        // ===== –°–ò–°–¢–ï–ú–ê –ü–†–ï–°–ï–¢–û–í =====
        const PRESETS_KEY = 'flux_prompt_presets';

        function getCurrentState() {
            return {
                style: getSelectedStyle(),
                artistic: getSelectedArtistic(),
                quality: {
                    resolution: document.getElementById('resolution').value,
                    lighting: document.getElementById('lighting').value,
                    colors: document.getElementById('colors').value,
                    focus: document.getElementById('focus').value,
                    detail: document.getElementById('detail').value
                }
            };
        }

        function applyState(state) {
            // –ü—Ä–∏–º–µ–Ω—è–µ–º —Å—Ç–∏–ª—å
            const styleRadio = document.querySelector(`input[name="style"][value="${state.style}"]`);
            if (styleRadio) styleRadio.checked = true;

            // –°–Ω–∏–º–∞–µ–º –≤—Å–µ —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
            document.querySelectorAll('input[name="artistic"]').forEach(cb => cb.checked = false);

            // –ü—Ä–∏–º–µ–Ω—è–µ–º —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
            state.artistic.forEach(value => {
                const checkbox = document.querySelector(`input[name="artistic"][value="${value}"]`);
                if (checkbox) checkbox.checked = true;
            });

            // –ü—Ä–∏–º–µ–Ω—è–µ–º –∫–∞—á–µ—Å—Ç–≤–æ
            if (state.quality) {
                document.getElementById('resolution').value = state.quality.resolution || '';
                document.getElementById('lighting').value = state.quality.lighting || '';
                document.getElementById('colors').value = state.quality.colors || '';
                document.getElementById('focus').value = state.quality.focus || '';
                document.getElementById('detail').value = state.quality.detail || '';
            }

            updateArtisticCounter();
            generatePrompt();
        }

        function loadPresets() {
            const data = localStorage.getItem(PRESETS_KEY);
            return data ? JSON.parse(data) : [];
        }

        function savePresets(presets) {
            localStorage.setItem(PRESETS_KEY, JSON.stringify(presets));
        }

        function renderPresets() {
            const presets = loadPresets();
            const container = document.getElementById('preset-list');
            
            if (presets.length === 0) {
                container.innerHTML = '<p style="color: var(--text-muted); margin-top: 12px;">–ù–µ—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã—Ö –ø—Ä–µ—Å–µ—Ç–æ–≤</p>';
                return;
            }

            container.innerHTML = presets.map((preset, index) => `
                <div class="preset-item">
                    <span class="preset-item-name">${preset.name}</span>
                    <div class="preset-item-actions">
                        <button class="preset-item-btn load" onclick="loadPreset(${index})">–ó–∞–≥—Ä—É–∑–∏—Ç—å</button>
                        <button class="preset-item-btn delete" onclick="deletePreset(${index})">–£–¥–∞–ª–∏—Ç—å</button>
                    </div>
                </div>
            `).join('');
        }

        function savePresetDialog() {
            document.getElementById('preset-modal').style.display = 'block';
            document.getElementById('preset-name-input').value = '';
            document.getElementById('preset-name-input').focus();
        }

        function closePresetModal() {
            document.getElementById('preset-modal').style.display = 'none';
        }

        function confirmSavePreset() {
            const name = document.getElementById('preset-name-input').value.trim();
            
            if (!name) {
                showToast('‚ö†Ô∏è –í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–µ—Å–µ—Ç–∞');
                return;
            }

            const presets = loadPresets();
            const state = getCurrentState();
            
            presets.push({
                name: name,
                state: state,
                created: new Date().toISOString()
            });

            savePresets(presets);
            renderPresets();
            closePresetModal();
            showNotification(`–ü—Ä–µ—Å–µ—Ç "${name}" —Å–æ—Ö—Ä–∞–Ω—ë–Ω!`);
        }

        function loadPreset(index) {
            const presets = loadPresets();
            if (presets[index]) {
                applyState(presets[index].state);
                showNotification(`–ü—Ä–µ—Å–µ—Ç "${presets[index].name}" –∑–∞–≥—Ä—É–∂–µ–Ω!`);
            }
        }

        function deletePreset(index) {
            if (!confirm('–£–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç –ø—Ä–µ—Å–µ—Ç?')) return;
            
            const presets = loadPresets();
            const deleted = presets.splice(index, 1)[0];
            savePresets(presets);
            renderPresets();
            showNotification(`–ü—Ä–µ—Å–µ—Ç "${deleted.name}" —É–¥–∞–ª—ë–Ω`);
        }

        function exportPresets() {
            const presets = loadPresets();
            
            if (presets.length === 0) {
                showToast('‚ö†Ô∏è –ù–µ—Ç –ø—Ä–µ—Å–µ—Ç–æ–≤ –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞');
                return;
            }

            const json = JSON.stringify(presets, null, 2);
            const blob = new Blob([json], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `flux_presets_${Date.now()}.json`;
            a.click();
            URL.revokeObjectURL(url);
            showNotification('–ü—Ä–µ—Å–µ—Ç—ã —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã!');
        }

        function importPresetsDialog() {
            document.getElementById('import-modal').style.display = 'block';
            document.getElementById('import-json-input').value = '';
        }

        function closeImportModal() {
            document.getElementById('import-modal').style.display = 'none';
        }

        function confirmImportPresets() {
            const json = document.getElementById('import-json-input').value.trim();
            
            if (!json) {
                showToast('‚ö†Ô∏è –í—Å—Ç–∞–≤—å—Ç–µ JSON –¥–∞–Ω–Ω—ã–µ');
                return;
            }

            try {
                const imported = JSON.parse(json);
                
                if (!Array.isArray(imported)) {
                    throw new Error('–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç');
                }

                const presets = loadPresets();
                const merged = [...presets, ...imported];
                savePresets(merged);
                renderPresets();
                closeImportModal();
                showNotification(`–ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–æ ${imported.length} –ø—Ä–µ—Å–µ—Ç–æ–≤!`);
            } catch (err) {
                showToast('‚ùå –û—à–∏–±–∫–∞ –∏–º–ø–æ—Ä—Ç–∞: –Ω–µ–≤–µ—Ä–Ω—ã–π JSON');
                console.error(err);
            }
        }

        // ===== –°–õ–£–ß–ê–ô–ù–´–ô –ü–†–û–ú–ü–¢ =====
        function generateRandomPrompt() {
            // –û—á–∏—â–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –≤—ã–±–æ—Ä—ã
            document.querySelectorAll('input[name="style"]').forEach(r => r.checked = false);
            document.querySelectorAll('input[name="artistic"]').forEach(cb => cb.checked = false);

            // –°–ª—É—á–∞–π–Ω—ã–π –ø—Ä–∏–º–µ—Ä
            const randomExample = allExamples[Math.floor(Math.random() * allExamples.length)];
            inputEl.value = randomExample;

            // –°–ª—É—á–∞–π–Ω—ã–π —Å—Ç–∏–ª—å
            const allStyles = Object.values(styleCategories).flat();
            const randomStyle = allStyles[Math.floor(Math.random() * allStyles.length)];
            const styleRadio = document.querySelector(`input[name="style"][value="${randomStyle}"]`);
            if (styleRadio) styleRadio.checked = true;

            // 1-3 —Å–ª—É—á–∞–π–Ω—ã—Ö —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
            const allArtistic = [];
            for (const catData of Object.values(artisticCategories)) {
                if (Array.isArray(catData)) {
                    allArtistic.push(...catData);
                } else {
                    for (const subData of Object.values(catData)) {
                        if (Array.isArray(subData)) {
                            allArtistic.push(...subData);
                        } else {
                            for (const items of Object.values(subData)) {
                                if (Array.isArray(items)) {
                                    allArtistic.push(...items);
                                }
                            }
                        }
                    }
                }
            }

            const artisticCount = Math.floor(Math.random() * 3) + 1; // 1-3
            const shuffled = allArtistic.sort(() => 0.5 - Math.random());
            const selected = shuffled.slice(0, artisticCount);

            selected.forEach(value => {
                const checkbox = document.querySelector(`input[name="artistic"][value="${value}"]`);
                if (checkbox) checkbox.checked = true;
            });

            updateArtisticCounter();
            generatePrompt();
            showNotification('üé≤ –°–ª—É—á–∞–π–Ω—ã–π –ø—Ä–æ–º–ø—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω!');
        }

    </script>
</body>
</html>